"use strict";var vse=Object.defineProperty,wse=Object.defineProperties,Ese=Object.getOwnPropertyDescriptors,UU=Object.getOwnPropertySymbols,Ise=Object.prototype.hasOwnProperty,bse=Object.prototype.propertyIsEnumerable,BU=(oe,dt,zt)=>dt in oe?vse(oe,dt,{enumerable:!0,configurable:!0,writable:!0,value:zt}):oe[dt]=zt,jU=(oe,dt)=>{for(var zt in dt||(dt={}))Ise.call(dt,zt)&&BU(oe,zt,dt[zt]);if(UU)for(var zt of UU(dt))bse.call(dt,zt)&&BU(oe,zt,dt[zt]);return oe},$U=(oe,dt)=>wse(oe,Ese(dt));(self.webpackChunklibrary=self.webpackChunklibrary||[]).push([[179],{656:()=>{function oe(t){return"function"==typeof t}function dt(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zt=dt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class _n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof zt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{qC(s)}catch(o){e=null!=e?e:[],o instanceof zt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qC(e);else{if(e instanceof _n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){const{_finalizers:n}=this;n&&no(n,e),e instanceof _n&&e._removeParent(this)}}_n.EMPTY=(()=>{const t=new _n;return t.closed=!0,t})();const HC=_n.EMPTY;function GC(t){return t instanceof _n||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function qC(t){oe(t)?t():t.unsubscribe()}const Wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vc={setTimeout(t,e,...n){const{delegate:r}=vc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=vc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function WC(t){vc.setTimeout(()=>{const{onUnhandledError:e}=Wi;if(!e)throw t;e(t)})}function zC(){}const HU=gp("C",void 0,void 0);function gp(t,e,n){return{kind:t,value:e,error:n}}let zi=null;function wc(t){if(Wi.useDeprecatedSynchronousErrorHandling){const e=!zi;if(e&&(zi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=zi;if(zi=null,n)throw r}}else t()}class mp extends _n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,GC(e)&&e.add(this)):this.destination=YU}static create(e,n,r){return new Ec(e,n,r)}next(e){this.isStopped?_p(function qU(t){return gp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?_p(function GU(t){return gp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_p(HU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zU=Function.prototype.bind;function yp(t,e){return zU.call(t,e)}class KU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ic(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ic(r)}else Ic(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ic(n)}}}class Ec extends mp{constructor(e,n,r){let i;if(super(),oe(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&Wi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yp(e.next,s),error:e.error&&yp(e.error,s),complete:e.complete&&yp(e.complete,s)}):i=e}this.destination=new KU(i)}}function Ic(t){Wi.useDeprecatedSynchronousErrorHandling?function WU(t){Wi.useDeprecatedSynchronousErrorHandling&&zi&&(zi.errorThrown=!0,zi.error=t)}(t):WC(t)}function _p(t,e){const{onStoppedNotification:n}=Wi;n&&vc.setTimeout(()=>n(t,e))}const YU={closed:!0,next:zC,error:function QU(t){throw t},complete:zC},vp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ki(t){return t}let Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function XU(t){return t&&t instanceof mp||function JU(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}(t)&&GC(t)}(n)?n:new Ec(n,r,i);return wc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=QC(r))((i,s)=>{const o=new Ec({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[vp](){return this}pipe(...n){return function KC(t){return 0===t.length?Ki:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=QC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function QC(t){var e;return null!==(e=null!=t?t:Wi.Promise)&&void 0!==e?e:Promise}const ZU=dt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pr=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new YC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZU}next(n){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?HC:(this.currentObservers=null,s.push(n),new _n(()=>{this.currentObservers=null,no(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new YC(e,n),t})();class YC extends Pr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:HC}}function JC(t){return oe(null==t?void 0:t.lift)}function Ct(t){return e=>{if(JC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,e,n,r,i){return new e2(t,e,n,r,i)}class e2 extends mp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(t,e){return Ct((n,r)=>{let i=0;n.subscribe(ht(r,s=>{r.next(t.call(e,s,i++))}))})}function ZC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Qi(t){return this instanceof Qi?(this.v=t,this):new Qi(t)}function r2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Qi?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function i2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function tT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const nT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rT(t){return oe(null==t?void 0:t.then)}function iT(t){return oe(t[vp])}function sT(t){return Symbol.asyncIterator&&oe(null==t?void 0:t[Symbol.asyncIterator])}function oT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const aT=function o2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function uT(t){return oe(null==t?void 0:t[aT])}function lT(t){return r2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Qi(n.read());if(i)return yield Qi(void 0);yield yield Qi(r)}}finally{n.releaseLock()}})}function cT(t){return oe(null==t?void 0:t.getReader)}function dr(t){if(t instanceof Pe)return t;if(null!=t){if(iT(t))return function a2(t){return new Pe(e=>{const n=t[vp]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(nT(t))return function u2(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(rT(t))return function l2(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,WC)})}(t);if(sT(t))return dT(t);if(uT(t))return function c2(t){return new Pe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(cT(t))return function d2(t){return dT(lT(t))}(t)}throw oT(t)}function dT(t){return new Pe(e=>{(function h2(t,e){var n,r,i,s;return function t2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=i2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ft(t,e,n=1/0){return oe(e)?ft((r,i)=>ye((s,o)=>e(r,s,i,o))(dr(t(r,i))),n):("number"==typeof e&&(n=e),Ct((r,i)=>function f2(t,e,n,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let _=!1;dr(n(g,c++)).subscribe(ht(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;u.length&&l<r;){const E=u.shift();o?Or(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Ga(t=1/0){return ft(Ki,t)}const Fr=new Pe(t=>t.complete());function Ep(t){return t[t.length-1]}function hT(t){return oe(Ep(t))?t.pop():void 0}function qa(t){return function g2(t){return t&&oe(t.schedule)}(Ep(t))?t.pop():void 0}function bc(t,e=0){return Ct((n,r)=>{n.subscribe(ht(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function Dc(t,e=0){return Ct((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pt(t,e){return e?function I2(t,e){if(null!=t){if(iT(t))return function y2(t,e){return dr(t).pipe(Dc(e),bc(e))}(t,e);if(nT(t))return function v2(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(rT(t))return function _2(t,e){return dr(t).pipe(Dc(e),bc(e))}(t,e);if(sT(t))return fT(t,e);if(uT(t))return function w2(t,e){return new Pe(n=>{let r;return Or(n,e,()=>{r=t[aT](),Or(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>oe(null==r?void 0:r.return)&&r.return()})}(t,e);if(cT(t))return function E2(t,e){return fT(lT(t),e)}(t,e)}throw oT(t)}(t,e):dr(t)}function Cc(t){return t<=0?()=>Fr:Ct((e,n)=>{let r=0;e.subscribe(ht(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ip(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Cc(1)).subscribe(()=>t())}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function bp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Dp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const C2=ve({__forward_ref__:ve});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return ge(this())},t}function Q(t){return pT(t)?t():t}function pT(t){return"function"==typeof t&&t.hasOwnProperty(C2)&&t.__forward_ref__===Ie}class ue extends Error{constructor(e,n){super(function Cp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function Tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function Tc(t,e){const n=e?` in ${e}`:"";throw new ue(-201,`No provider for ${Tt(t)} found${n}`)}function wn(t,e){null==t&&function we(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tp(t){return gT(t,Ac)||gT(t,yT)}function gT(t,e){return t.hasOwnProperty(e)?t[e]:null}function mT(t){return t&&(t.hasOwnProperty(Ap)||t.hasOwnProperty(N2))?t[Ap]:null}const Ac=ve({\u0275prov:ve}),Ap=ve({\u0275inj:ve}),yT=ve({ngInjectableDef:ve}),N2=ve({ngInjectorDef:ve});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let Sp;function di(t){const e=Sp;return Sp=t,e}function _T(t,e,n){const r=Tp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void Tc(ge(t),"Injector")}function hi(t){return{toString:t}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),hr=(()=>{return(t=hr||(hr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",hr;var t})();const P2="undefined"!=typeof globalThis&&globalThis,O2="undefined"!=typeof window&&window,F2="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_e=P2||"undefined"!=typeof global&&global||O2||F2,ro={},Ee=[],Sc=ve({\u0275cmp:ve}),xp=ve({\u0275dir:ve}),Mp=ve({\u0275pipe:ve}),vT=ve({\u0275mod:ve}),Vr=ve({\u0275fac:ve}),Wa=ve({__NG_ELEMENT_ID__:ve});let L2=0;function fi(t){return hi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,id:"c",styles:t.styles||Ee,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=L2++,r.inputs=bT(t.inputs,n),r.outputs=bT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(wT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(ET):null,r})}function wT(t){return Ft(t)||function pi(t){return t[xp]||null}(t)}function ET(t){return function Yi(t){return t[Mp]||null}(t)}const IT={};function En(t){return hi(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(IT[t.id]=t.type),e})}function bT(t,e){if(null==t)return ro;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const B=fi;function Ft(t){return t[Sc]||null}function Rn(t,e){const n=t[vT]||null;if(!n&&!0===e)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return n}const Y=11;function fr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function Rp(t){return 0!=(8&t.flags)}function Nc(t){return 2==(2&t.flags)}function Rc(t){return 1==(1&t.flags)}function Jn(t){return null!==t.template}function H2(t){return 0!=(512&t[2])}function es(t,e){return t.hasOwnProperty(Vr)?t[Vr]:null}class W2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return CT}function CT(t){return t.type.prototype.ngOnChanges&&(t.setInput=K2),z2}function z2(){const t=AT(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ro)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function K2(t,e,n,r){const i=AT(t)||function Q2(t,e){return t[TT]=e}(t,{previous:ro,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new W2(u&&u.currentValue,e,o===ro),t[r]=e}On.ngInherit=!0;const TT="__ngSimpleChanges__";function AT(t){return t[TT]||null}let Vp;function Fe(t){return!!t.listen}const ST={createRenderer:(t,e)=>function Up(){return void 0!==Vp?Vp:"undefined"!=typeof document?document:void 0}()};function We(t){for(;Array.isArray(t);)t=t[0];return t}function Pc(t,e){return We(e[t])}function Ln(t,e){return We(e[t.index])}function Bp(t,e){return t.data[e]}function bn(t,e){const n=e[t];return fr(n)?n:n[0]}function jp(t){return 128==(128&t[2])}function gi(t,e){return null==e?null:t[e]}function MT(t){t[18]=0}function $p(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const q={lFrame:UT(null),bindingsEnabled:!0};function NT(){return q.bindingsEnabled}function I(){return q.lFrame.lView}function le(){return q.lFrame.tView}function nt(){let t=RT();for(;null!==t&&64===t.type;)t=t.parent;return t}function RT(){return q.lFrame.currentTNode}function pr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function Hp(){return q.lFrame.isParent}function lo(){return q.lFrame.bindingIndex++}function fB(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,qp(e)}function qp(t){q.lFrame.currentDirectiveIndex=t}function zp(t){q.lFrame.currentQueryIndex=t}function gB(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function LT(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=gB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=VT();return r.currentTNode=e,r.lView=t,!0}function Fc(t){const e=VT(),n=t[1];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function VT(){const t=q.lFrame,e=null===t?null:t.child;return null===e?UT(t):e}function UT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function BT(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const jT=BT;function Lc(){const t=BT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qt(){return q.lFrame.selectedIndex}function mi(t){q.lFrame.selectedIndex=t}function Le(){const t=q.lFrame;return Bp(t.tView,t.selectedIndex)}function Vc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Uc(t,e,n){$T(t,e,3,n)}function Bc(t,e,n,r){(3&t[2])===n&&$T(t,e,n,r)}function Kp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function $T(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(DB(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function DB(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ja{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function jc(t,e,n){const r=Fe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Yp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function HT(t){return 3===t||4===t||6===t}function Yp(t){return 64===t.charCodeAt(0)}function $c(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||GT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function GT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function qT(t){return-1!==t}function co(t){return 32767&t}function ho(t,e){let n=function xB(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Jp=!0;function Hc(t){const e=Jp;return Jp=t,e}let MB=0;function Za(t,e){const n=Zp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Xp(r.data,t),Xp(e,null),Xp(r.blueprint,null));const i=Gc(t,e),s=t.injectorIndex;if(qT(i)){const o=co(i),a=ho(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Xp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Zp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function qc(t,e,n){!function kB(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wa)&&(r=n[Wa]),null==r&&(r=n[Wa]=MB++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function KT(t,e,n){if(n&$.Optional)return t;Tc(e,"NodeInjector")}function QT(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=di(void 0);try{return i?i.get(e,r,n&$.Optional):_T(e,r,n&$.Optional)}finally{di(s)}}return KT(r,e,n)}function YT(t,e,n,r=$.Default,i){if(null!==t){const s=function OB(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Wa)?t[Wa]:void 0;return"number"==typeof e?e>=0?255&e:RB:e}(n);if("function"==typeof s){if(!LT(e,t,r))return r&$.Host?KT(i,n,r):QT(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;Tc(n)}finally{jT()}}else if("number"==typeof s){let o=null,a=Zp(t,e),u=-1,l=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?Gc(t,e):e[a+8],-1!==u&&ZT(r,!1)?(o=e[1],a=co(u),e=ho(u,e)):a=-1);-1!==a;){const c=e[1];if(XT(s,a,c.data)){const d=PB(a,e,n,o,r,l);if(d!==JT)return d}u=e[a+8],-1!==u&&ZT(r,e[1].data[a+8]===l)&&XT(s,a,e)?(o=c,a=co(u),e=ho(u,e)):a=-1}}}return QT(e,n,r,i)}const JT={};function RB(){return new fo(nt(),I())}function PB(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function Wc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Jn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Nc(a)&&Jp:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==c?eu(e,o,c,a):JT}function eu(t,e,n,r){let i=t[n];const s=e.data;if(function CB(t){return t instanceof Ja}(i)){const o=i;o.resolving&&function T2(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${n}`)}(Tt(s[n]));const a=Hc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?di(o.injectImpl):null;LT(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function bB(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=CT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&di(u),Hc(a),o.resolving=!1,jT()}}return i}function XT(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ZT(t,e){return!(t&$.Self||t&$.Host&&e)}class fo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return YT(this._tNode,this._lView,e,r,n)}}function Vt(t){return hi(()=>{const e=t.prototype.constructor,n=e[Vr]||eg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Vr]||eg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function eg(t){return pT(t)?()=>{const e=eg(Q(t));return e&&e()}:es(t)}const go="__parameters__";function yo(t,e,n){return hi(()=>{const r=function tg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(go)?u[go]:Object.defineProperty(u,go,{value:[]})[go];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const LB=new z("AnalyzeForEntryComponents");function gr(t,e){t.forEach(n=>Array.isArray(n)?gr(n,e):e(n))}function t0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e,n){let r=_o(t,e);return r>=0?t[1|r]=n:(r=~r,function BB(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function rg(t,e){const n=_o(t,e);if(n>=0)return t[1|n]}function _o(t,e){return function s0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const su={},sg="__NG_DI_FLAG__",Qc="ngTempTokenPath",zB=/\n/gm,a0="__source",QB=ve({provide:String,useValue:ve});let ou;function u0(t){const e=ou;return ou=t,e}function YB(t,e=$.Default){if(void 0===ou)throw new ue(203,"");return null===ou?_T(t,void 0,e):ou.get(t,e&$.Optional?null:void 0,e)}function F(t,e=$.Default){return(function R2(){return Sp}()||YB)(Q(t),e)}const JB=F;function og(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ue(900,"");let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=XB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function au(t,e){return t[sg]=e,t.prototype[sg]=e,t}function XB(t){return t[sg]}const Yc=au(yo("Inject",t=>({token:t})),-1),mt=au(yo("Optional"),8),uu=au(yo("SkipSelf"),4);class y0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _i(t){return t instanceof y0?t.changingThisBreaksApplicationSecurity:t}const wj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ej=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ze=(()=>((ze=ze||{})[ze.NONE=0]="NONE",ze[ze.HTML=1]="HTML",ze[ze.STYLE=2]="STYLE",ze[ze.SCRIPT=3]="SCRIPT",ze[ze.URL=4]="URL",ze[ze.RESOURCE_URL=5]="RESOURCE_URL",ze))();function pg(t){const e=function hu(){const t=I();return t&&t[12]}();return e?e.sanitize(ze.URL,t)||"":function cu(t,e){const n=function mj(t){return t instanceof y0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?_i(t):function ed(t){return(t=String(t)).match(wj)||t.match(Ej)?t:"unsafe:"+t}(G(t))}const A0="__ngContext__";function Ut(t,e){t[A0]=e}function mg(t){const e=function fu(t){return t[A0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function _g(t){return t.ngOriginalError}function Gj(t,...e){t.error(...e)}class pu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function Hj(t){return t&&t.ngErrorLogger||Gj}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_g(e);for(;n&&_g(n);)n=_g(n);return n||null}}const e$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_e))();function yr(t){return t instanceof Function?t():t}var Cn=(()=>((Cn=Cn||{})[Cn.Important=1]="Important",Cn[Cn.DashCase=2]="DashCase",Cn))();function wg(t,e){return undefined(t,e)}function gu(t){const e=t[3];return Yn(e)?e[3]:e}function Eg(t){return F0(t[13])}function Ig(t){return F0(t[4])}function F0(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function Io(t,e,n,r,i){if(null!=r){let s,o=!1;Yn(r)?s=r:fr(r)&&(o=!0,r=r[0]);const a=We(r);0===t&&null!==n?null==i?$0(e,n,a):ts(e,n,a,i||null,!0):1===t&&null!==n?ts(e,n,a,i||null,!0):2===t?function Q0(t,e,n){const r=nd(t,e);r&&function p$(t,e,n,r){Fe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function y$(t,e,n,r,i){const s=n[7];s!==We(n)&&Io(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];mu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Dg(t,e,n){if(Fe(t))return t.createElement(e,n);{const r=null!==n?function Z2(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function V0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,$p(i,-1)),n.splice(r,1)}function Cg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&V0(i,r),e>0&&(t[n-1][4]=r[4]);const s=zc(t,10+e);!function o$(t,e){mu(t,e,e[Y],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function U0(t,e){if(!(256&e[2])){const n=e[Y];Fe(n)&&n.destroyNode&&mu(t,e,n,3,null,null),function l$(t){let e=t[13];if(!e)return Tg(t[1],t);for(;e;){let n=null;if(fr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)fr(e)&&Tg(e[1],e),e=e[3];null===e&&(e=t),fr(e)&&Tg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Tg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function f$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ja)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function h$(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):We(e[o]),u=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Fe(e[Y])&&e[Y].destroy();const n=e[17];if(null!==n&&Yn(e[3])){n!==e[3]&&V0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function B0(t,e,n){return function j0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===hr.None||i===hr.Emulated)return null}return Ln(r,n)}(t,e.parent,n)}function ts(t,e,n,r,i){Fe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $0(t,e,n){Fe(t)?t.appendChild(e,n):e.appendChild(n)}function H0(t,e,n,r,i){null!==r?ts(t,e,n,r,i):$0(t,e,n)}function nd(t,e){return Fe(t)?t.parentNode(e):e.parentNode}let W0=function q0(t,e,n){return 40&t.type?Ln(t,n):null};function rd(t,e,n,r){const i=B0(t,r,e),s=e[Y],a=function G0(t,e,n){return W0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)H0(s,i,n[u],a,!1);else H0(s,i,n,a,!1)}function id(t,e){if(null!==e){const n=e.type;if(3&n)return Ln(e,t);if(4&n)return Sg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return id(t,r);{const i=t[e.index];return Yn(i)?Sg(-1,i):We(i)}}if(32&n)return wg(e,t)()||We(t[e.index]);{const r=K0(t,e);return null!==r?Array.isArray(r)?r[0]:id(gu(t[16]),r):id(t,e.next)}}return null}function K0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Sg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return id(r,i)}return e[7]}function xg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ut(We(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)xg(t,e,n.child,r,i,s,!1),Io(e,t,i,a,s);else if(32&u){const l=wg(n,r);let c;for(;c=l();)Io(e,t,i,c,s);Io(e,t,i,a,s)}else 16&u?Y0(t,e,r,n,i,s):Io(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mu(t,e,n,r,i,s){xg(n,r,t.firstChild,e,i,s,!1)}function Y0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Io(e,t,i,u[l],s);else xg(t,e,u,o[3],i,s,!0)}function J0(t,e,n){Fe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Mg(t,e,n){Fe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function X0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const Z0="ng-template";function v$(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==X0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function eA(t){return 4===t.type&&t.value!==Z0}function w$(t,e,n){return e===(4!==t.type||n?t.value:Z0)}function E$(t,e,n){let r=4;const i=t.attrs||[],s=function D$(t){for(let e=0;e<t.length;e++)if(HT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!w$(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!v$(t.attrs,l,n)){if(Xn(r))return!1;o=!0}continue}const d=I$(8&r?"class":u,i,eA(t),n);if(-1===d){if(Xn(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==X0(f,l,0)||2&r&&l!==h){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(u))return!1;if(o&&Xn(u))continue;o=!1,r=u|1&r}}return Xn(r)||o}function Xn(t){return 0==(1&t)}function I$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function C$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tA(t,e,n=!1){for(let r=0;r<e.length;r++)if(E$(t,e[r],n))return!0;return!1}function nA(t,e){return t?":not("+e.trim()+")":e}function A$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(e+=nA(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(e+=nA(s,i)),e}const W={};function Me(t){rA(le(),I(),Qt()+t,!1)}function rA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Uc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Bc(e,s,0,n)}mi(n)}function sd(t,e){return t<<17|e<<2}function Zn(t){return t>>17&32767}function kg(t){return 2|t}function jr(t){return(131068&t)>>2}function Ng(t,e){return-131069&t|e<<2}function Rg(t){return 1|t}function pA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];zp(i),o.contentQueries(2,e[s],s)}}}function yu(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,MT(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[Y]=a||t&&t[Y],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function bo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function $g(t,e,n,r,i){const s=RT(),o=Hp(),u=t.data[e]=function q$(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function hB(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ya(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return pr(s,!0),s}function Do(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _u(t,e,n){Fc(e);try{const r=t.viewQuery;null!==r&&Jg(1,r,n);const i=t.template;null!==i&&gA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pA(t,e),t.staticViewQueries&&Jg(2,t.viewQuery,n);const s=t.components;null!==s&&function $$(t,e){for(let n=0;n<e.length;n++)lH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Lc()}}function Co(t,e,n,r){const i=e[2];if(256!=(256&i)){Fc(e);try{MT(e),function PT(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&gA(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Uc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Bc(e,l,0,null),Kp(e,0)}if(function aH(t){for(let e=Eg(t);null!==e;e=Ig(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&$p(s,1),i[2]|=1024}}}(e),function oH(t){for(let e=Eg(t);null!==e;e=Ig(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];jp(r)&&Co(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&pA(t,e),o){const l=t.contentCheckHooks;null!==l&&Uc(e,l)}else{const l=t.contentHooks;null!==l&&Bc(e,l,1),Kp(e,1)}!function B$(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)mi(~i);else{const s=i,o=n[++r],a=n[++r];fB(o,s),a(2,e[s])}}}finally{mi(-1)}}(t,e);const a=t.components;null!==a&&function j$(t,e){for(let n=0;n<e.length;n++)uH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Jg(2,u,r),o){const l=t.viewCheckHooks;null!==l&&Uc(e,l)}else{const l=t.viewHooks;null!==l&&Bc(e,l,2),Kp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,$p(e[3],-1))}finally{Lc()}}}function H$(t,e,n,r){const i=e[10],o=function xT(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&_u(t,e,r),Co(t,e,n,r)}finally{!o&&i.end&&i.end()}}function gA(t,e,n,r,i){const s=Qt(),o=2&r;try{mi(-1),o&&e.length>20&&rA(t,e,20,!1),n(r,i)}finally{mi(s)}}function Hg(t,e,n){!NT()||(function X$(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Za(n,e),Ut(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=Jn(u);l&&rH(e,n,u);const c=eu(e,t,a,n);Ut(c,e),null!==o&&iH(0,a-i,c,u,0,o),l&&(bn(n.index,e)[8]=c)}}(t,e,n,Ln(n,e)),128==(128&n.flags)&&function Z$(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function pB(){return q.lFrame.currentDirectiveIndex}();try{mi(o);for(let u=r;u<i;u++){const l=t.data[u],c=e[u];qp(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&DA(l,c)}}finally{mi(-1),qp(a)}}(t,e,n))}function Gg(t,e,n=Ln){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function yA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ud(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ud(t,e,n,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function G$(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(c,d),f="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function EA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Tn(t,e,n,r,i,s,o,a){const u=Ln(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(PA(t,n,c,r,i),Nc(e)&&function K$(t,e){const n=bn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function z$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Fe(s)?s.setProperty(u,r,i):Yp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function qg(t,e,n,r){let i=!1;if(NT()){const s=function eH(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];tA(n,o.selectors,!1)&&(i||(i=[]),qc(Za(n,e),t,o.type),Jn(o)?(CA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,TA(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Do(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=$c(n.mergedAttrs,d.hostAttrs),AA(t,n,e,l,d),nH(l,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function W$(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||eA(e)?null:sH(d,s);o.push(h),a=EA(d,l,a),u=EA(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function tH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ue(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=$c(n.mergedAttrs,n.attrs),i}function bA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function J$(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function DA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function CA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function nH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jn(e)&&(n[""]=t)}}function TA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function AA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=es(i.type)),o=new Ja(s,Jn(i),null);t.blueprint[r]=o,n[r]=o,bA(t,e,0,r,Do(t,n,i.hostVars,W),i)}function rH(t,e,n){const r=Ln(e,t),i=yA(n),s=t[10],o=ld(t,yu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function _r(t,e,n,r,i,s){const o=Ln(t,e);!function Wg(t,e,n,r,i,s,o){if(null==s)Fe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?G(s):o(s,r||"",i);Fe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Y],o,s,t.value,n,r,i)}function iH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(n,d,l,c):n[c]=d}}}function sH(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function SA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function uH(t,e){const n=bn(e,t);if(jp(n)){const r=n[1];80&n[2]?Co(r,n,r.template,n[8]):n[5]>0&&zg(n)}}function zg(t){for(let r=Eg(t);null!==r;r=Ig(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Co(o,s,o.template,s[8])}else s[5]>0&&zg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=bn(n[r],t);jp(i)&&i[5]>0&&zg(i)}}function lH(t,e){const n=bn(e,t),r=n[1];(function cH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),_u(r,n,n[8])}function ld(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Kg(t){for(;t;){t[2]|=64;const e=gu(t);if(H2(t)&&!e)return t;t=e}return null}function xA(t){!function Qg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=mg(n),i=r[1];H$(i,r,i.template,n)}}(t[8])}function Jg(t,e,n){zp(0),e(t,n)}const hH=(()=>Promise.resolve(null))();function MA(t){return t[7]||(t[7]=[])}function kA(t){return t.cleanup||(t.cleanup=[])}function RA(t,e){const n=t[9],r=n?n.get(pu,null):null;r&&r.handleError(e)}function PA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function $r(t,e,n){const r=Pc(e,t);!function L0(t,e,n){Fe(t)?t.setValue(e,n):e.textContent=n}(t[Y],r,n)}function cd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Dp(i,a):2==s&&(r=Dp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Xg=new z("INJECTOR",-1);class OA{get(e,n=su){if(n===su){const r=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw r.name="NullInjectorError",r}return n}}const Zg=new z("Set Injector scope."),vu={},gH={};let em;function FA(){return void 0===em&&(em=new OA),em}function LA(t,e=null,n=null,r){const i=VA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function VA(t,e=null,n=null,r){return new mH(t,n,e||FA(),r)}class mH{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&gr(n,a=>this.processProvider(a,e,n)),gr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Xg,To(void 0,this));const o=this.records.get(Zg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ge(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=su,r=$.Default){this.assertNotDestroyed();const i=u0(this),s=di(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function DH(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Tp(e);a=u&&this.injectableDefInScope(u)?To(tm(e),vu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?FA():this.parent).get(e,n=r&$.Optional&&n===su?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Qc]=o[Qc]||[]).unshift(ge(e)),i)throw o;return function ZB(t,e,n,r){const i=t[Qc];throw e[a0]&&i.unshift(e[a0]),t.message=function ej(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ge(e);if(Array.isArray(e))i=e.map(ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Qc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{di(s),u0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ge(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processInjectorType(e,n,r){if(!(e=Q(e)))return!1;let i=mT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=mT(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{gr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];gr(f,p=>this.processProvider(p,h,f||Ee))}}this.injectorDefTypes.add(o);const u=es(o)||(()=>new o);this.records.set(o,To(u,vu));const l=i.providers;if(null!=l&&!a){const c=e;gr(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Ao(e=Q(e))?e:Q(e&&e.provide);const s=function _H(t,e,n){return BA(t)?To(void 0,t.useValue):To(UA(t),vu)}(e);if(Ao(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=To(void 0,vu,!0),o.factory=()=>og(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===vu&&(n.value=gH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function bH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function tm(t){const e=Tp(t),n=null!==e?e.factory:es(t);if(null!==n)return n;if(t instanceof z)throw new ue(204,!1);if(t instanceof Function)return function yH(t){const e=t.length;if(e>0)throw function iu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ue(204,!1);const n=function M2(t){const e=t&&(t[Ac]||t[yT]);if(e){const n=function k2(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ue(204,!1)}function UA(t,e,n){let r;if(Ao(t)){const i=Q(t);return es(i)||tm(i)}if(BA(t))r=()=>Q(t.useValue);else if(function wH(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...og(t.deps||[]));else if(function vH(t){return!(!t||!t.useExisting)}(t))r=()=>F(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function IH(t){return!!t.deps}(t))return es(i)||tm(i);r=()=>new i(...og(t.deps))}return r}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function BA(t){return null!==t&&"object"==typeof t&&QB in t}function Ao(t){return"function"==typeof t}let Bt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return LA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return LA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=su,t.NULL=new OA,t.\u0275prov=ie({token:t,providedIn:"any",factory:()=>F(Xg)}),t.__NG_ELEMENT_ID__=-1,t})();function NH(t,e){Vc(mg(t)[1],nt())}function me(t){let e=function XA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=im(t.inputs),o.declaredInputs=im(t.declaredInputs),o.outputs=im(t.outputs);const a=i.hostBindings;a&&FH(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&PH(t,u),l&&OH(t,l),bp(t.inputs,i.inputs),bp(t.declaredInputs,i.declaredInputs),bp(t.outputs,i.outputs),Jn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function RH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$c(i.hostAttrs,n=$c(n,i.hostAttrs))}}(r)}function im(t){return t===ro?{}:t===Ee?[]:t}function PH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function OH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function FH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let dd=null;function So(){if(!dd){const t=_e.Symbol;if(t&&t.iterator)dd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(dd=r)}}}return dd}function wu(t){return!!function sm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wr(t,e,n,r){const i=I();return jt(i,lo(),e)&&(le(),_r(Le(),i,t,e,n,r)),wr}function Mo(t,e,n,r){return jt(t,lo(),n)?e+G(n)+r:W}function Jt(t,e,n,r,i,s,o,a){const u=I(),l=le(),c=t+20,d=l.firstCreatePass?function HH(t,e,n,r,i,s,o,a,u){const l=e.consts,c=bo(e,t,4,o||null,gi(l,a));qg(e,n,c,gi(l,u)),Vc(e,c);const d=c.tViews=ud(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];pr(d,!1);const h=u[Y].createComment("");rd(l,u,h,d),Ut(h,u),ld(u,u[c]=SA(h,u,h,d)),Rc(d)&&Hg(l,u,d),null!=o&&Gg(u,d,a)}function Vo(t){return function uo(t,e){return t[e]}(function dB(){return q.lFrame.contextLView}(),20+t)}function b(t,e=$.Default){const n=I();return null===n?F(t,e):YT(nt(),n,Q(t),e)}function cm(){throw new Error("invalid")}function it(t,e,n){const r=I();return jt(r,lo(),e)&&Tn(le(),Le(),r,t,e,r[Y],n,!1),it}function dm(t,e,n,r,i){const o=i?"class":"style";PA(t,n,e.inputs[o],o,r)}function te(t,e,n,r){const i=I(),s=le(),o=20+t,a=i[Y],u=i[o]=Dg(a,e,function IB(){return q.lFrame.currentNamespace}()),l=s.firstCreatePass?function cG(t,e,n,r,i,s,o){const a=e.consts,l=bo(e,t,2,i,gi(a,s));return qg(e,n,l,gi(a,o)),null!==l.attrs&&cd(l,l.attrs,!1),null!==l.mergedAttrs&&cd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];pr(l,!0);const c=l.mergedAttrs;null!==c&&jc(a,u,c);const d=l.classes;null!==d&&Mg(a,u,d);const h=l.styles;return null!==h&&J0(a,u,h),64!=(64&l.flags)&&rd(s,i,u,l),0===function sB(){return q.lFrame.elementDepthCount}()&&Ut(u,i),function oB(){q.lFrame.elementDepthCount++}(),Rc(l)&&(Hg(s,i,l),function mA(t,e,n){if(Rp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,l,i)),null!==r&&Gg(i,l),te}function ne(){let t=nt();Hp()?function Gp(){q.lFrame.isParent=!1}():(t=t.parent,pr(t,!1));const e=t;!function aB(){q.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(Vc(n,t),Rp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function AB(t){return 0!=(16&t.flags)}(e)&&dm(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function SB(t){return 0!=(32&t.flags)}(e)&&dm(n,e,I(),e.stylesWithoutHost,!1),ne}function Hr(t,e,n,r){return te(t,e,n,r),ne(),Hr}function Iu(t){return!!t&&"function"==typeof t.then}const pm=function vS(t){return!!t&&"function"==typeof t.subscribe};function dn(t,e,n,r){const i=I(),s=le(),o=nt();return function ES(t,e,n,r,i,s,o,a){const u=Rc(r),c=t.firstCreatePass&&kA(t),d=e[8],h=MA(e);let f=!0;if(3&r.type||a){const _=Ln(r,e),E=a?a(_):_,y=h.length,T=a?P=>a(We(P[r.index])):r.index;if(Fe(n)){let P=null;if(!a&&u&&(P=function fG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=gm(r,e,d,s,!1);const O=n.listen(E,i,s);h.push(s,O),c&&c.push(i,T,y,y+1)}}else s=gm(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),c&&c.push(i,T,y,o)}else s=gm(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let E=0;E<_;E+=2){const Z=e[g[E]][g[E+1]].subscribe(s),Se=h.length;h.push(s,Z),c&&c.push(i,r.index,Se,-(Se+1))}}}(s,i,i[Y],o,t,e,!!n,r),dn}function IS(t,e,n,r){try{return!1!==n(r)}catch(i){return RA(t,i),!1}}function gm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?bn(t.index,e):e;0==(32&e[2])&&Kg(a);let u=IS(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=IS(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function bu(t=1){return function mB(t){return(q.lFrame.contextLView=function yB(t,e){for(;t>0;)e=e[15],t--;return e}(t,q.lFrame.contextLView))[8]}(t)}function pd(t,e,n,r,i){const s=I(),o=Mo(s,e,n,r);return o!==W&&Tn(le(),Le(),s,t,o,s[Y],i,!1),pd}function NS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Zn(s):jr(s),u=!1;for(;0!==a&&(!1===u||o);){const c=t[a+1];vG(t[a],e)&&(u=!0,t[a+1]=r?Rg(c):kg(c)),a=r?Zn(c):jr(c)}u&&(t[n+1]=r?kg(s):Rg(s))}function vG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_o(t,e)>=0}function gd(t,e){return function tr(t,e,n,r){const i=I(),s=le(),o=function Br(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function jS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Qt()],o=function BS(t,e){return e>=t.expandoStartIndex}(t,n);(function qS(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function SG(t,e,n,r){const i=function Wp(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Du(n=mm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=mm(i,t,e,n,r),null===s){let u=function xG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==jr(r))return t[Zn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=mm(null,t,e,u[1],r),u=Du(u,e.attrs,r),function MG(t,e,n,r){t[Zn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function kG(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Du(r,t[s].hostAttrs,n);return Du(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function yG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zn(o),u=jr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||_o(d,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const h=Zn(t[a+1]);t[r+1]=sd(h,a),0!==h&&(t[h+1]=Ng(t[h+1],r)),t[a+1]=function M$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=sd(a,0),0!==a&&(t[a+1]=Ng(t[a+1],r)),a=r;else t[r+1]=sd(u,0),0===a?a=r:t[u+1]=Ng(t[u+1],r),u=r;l&&(t[r+1]=kg(t[r+1])),NS(t,c,r,!0),NS(t,c,r,!1),function _G(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&_o(s,e)>=0&&(n[r+1]=Rg(n[r+1]))}(e,c,t,r,s),o=sd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==W&&jt(i,o,e)&&function HS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];md(function oA(t){return 1==(1&t)}(l)?GS(u,e,n,i,jr(l),o):void 0)||(md(s)||function sA(t){return 2==(2&t)}(l)&&(s=GS(u,null,n,i,a,o)),function _$(t,e,n,r,i){const s=Fe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Cn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Cn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Pc(Qt(),n),i,s))}(s,s.data[Qt()],i,i[Y],t,i[o+1]=function PG(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ge(_i(t)))),t}(e,n),r,o)}(t,e,null,!0),gd}function mm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Du(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Du(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function GS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=n[i+1];h===W&&(h=d?Ee:void 0);let f=d?rg(h,r):c===r?h:void 0;if(l&&!md(f)&&(f=rg(u,r)),md(f)&&(a=f,o))return a;const p=t[i+1];i=o?Zn(p):jr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=rg(u,r))}return a}function md(t){return void 0!==t}function De(t,e=""){const n=I(),r=le(),i=t+20,s=r.firstCreatePass?bo(r,i,1,e,null):r.data[i],o=n[i]=function bg(t,e){return Fe(t)?t.createText(e):t.createTextNode(e)}(n[Y],e);rd(r,n,o,s),pr(s,!1)}function ym(t){return Ei("",t,""),ym}function Ei(t,e,n){const r=I(),i=Mo(r,t,e,n);return i!==W&&$r(r,Qt(),i),Ei}const yd="en-US";let fx=yd;function wm(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)wm(t[s],e,n,r,i);else{const s=le(),o=I();let a=Ao(t)?t:Q(t.provide),u=UA(t);const l=nt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Ao(t)||!t.multi){const f=new Ja(u,i,b),p=Im(a,e,i?c:c+h,d);-1===p?(qc(Za(l,o),s,a),Em(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Im(a,e,c+h,d),p=Im(a,e,c,c+h),g=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!g){qc(Za(l,o),s,a);const E=function Zq(t,e,n,r,i){const s=new Ja(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,Lx(s,i,r&&!n),s}(i?Xq:Jq,n.length,i,r,u);!i&&_&&(n[p].providerFactory=E),Em(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(E),o.push(E)}else Em(s,t,f>-1?f:p,Lx(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function Em(t,e,n,r){const i=Ao(e),s=function EH(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function Lx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Im(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Jq(t,e,n,r){return bm(this.multi,[])}function Xq(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=eu(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),bm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],bm(i,s);return s}function bm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ke(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Yq(t,e,n){const r=le();if(r.firstCreatePass){const i=Jn(t);wm(n,r.data,r.blueprint,i,!0),wm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Vx{}class nW{resolveComponentFactory(e){throw function tW(t){const e=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let xu=(()=>{class t{}return t.NULL=new nW,t})();function rW(){return Ho(nt(),I())}function Ho(t,e){return new An(Ln(t,e))}let An=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=rW,t})();class Bx{}let Gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function oW(){const t=I(),n=bn(nt().index,t);return function sW(t){return t[Y]}(fr(n)?n:t)}(),t})(),aW=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>null}),t})();class Go{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jx=new Go("13.3.8"),Dm={};function Id(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(We(s)),Yn(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Id(u[1],u,l,r)}const o=n.type;if(8&o)Id(t,e,n.child,r);else if(32&o){const a=wg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=K0(e,n);if(Array.isArray(a))r.push(...a);else{const u=gu(e[16]);Id(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Mu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Id(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Cg(e,r),zc(n,r))}this._attachedToViewContainer=!1}U0(this._lView[1],this._lView)}onDestroy(e){!function wA(t,e,n,r){const i=MA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&kA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Kg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Yg(t,e,n){const r=e[10];r.begin&&r.begin();try{Co(t,e,t.template,n)}catch(i){throw RA(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function u$(t,e){mu(t,e,e[Y],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,"");this._appRef=e}}class uW extends Mu{constructor(e){super(e),this._view=e}detectChanges(){xA(this._view)}checkNoChanges(){}get context(){return null}}class $x extends xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ft(e);return new Cm(n,this.ngModule)}}function Hx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Cm extends Vx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function S$(t){return t.map(A$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Hx(this.componentDef.inputs)}get outputs(){return Hx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function cW(t,e){return{get:(n,r,i)=>{const s=t.get(n,Dm,i);return s!==Dm||r===Dm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Bx,ST),a=s.get(aW,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function vA(t,e,n){if(Fe(t))return t.selectRootElement(e,n===hr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Dg(o.createRenderer(null,this.componentDef),l,function lW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,h=function JA(t,e){return{components:[],scheduler:t||e$,clean:hH,playerHandler:e||null,flags:0}}(),f=ud(0,null,null,1,0,null,null,null,null,null),p=yu(null,f,h,d,null,null,o,u,a,s);let g,_;Fc(p);try{const E=function QA(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=bo(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(cd(u,l,!0),null!==t&&(jc(i,t,l),null!==u.classes&&Mg(i,t,u.classes),null!==u.styles&&J0(i,t,u.styles)));const c=r.createRenderer(t,e),d=yu(n,yA(e),null,e.onPush?64:16,n[20],u,r,c,s||null,null);return o.firstCreatePass&&(qc(Za(u,n),o,e.type),CA(o,u),TA(u,n.length,1)),ld(n,d),n[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)jc(u,c,["ng-version",jx.full]);else{const{attrs:y,classes:T}=function x$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&jc(u,c,y),T&&T.length>0&&Mg(u,c,T.join(" "))}if(_=Bp(f,20),void 0!==n){const y=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=n[T];y.push(null!=P?Array.from(P):null)}}g=function YA(t,e,n,r,i){const s=n[1],o=function Y$(t,e,n){const r=nt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),AA(t,r,e,Do(t,e,1,null),n));const i=eu(e,t,r.directiveStart,r);Ut(i,e);const s=Ln(r,e);return s&&Ut(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=nt();e.contentQueries(1,o,u.directiveStart)}const a=nt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(mi(a.index),bA(n[1],a,0,a.directiveStart,a.directiveEnd,e),DA(e,o)),o}(E,this.componentDef,p,h,[NH]),_u(f,p,null)}finally{Lc()}return new hW(this.componentType,g,Ho(_,p),p,_)}}class hW extends class eW{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new uW(i),this.componentType=e}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class qr{}class Gx{}const qo=new Map;class zx extends qr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $x(this);const r=Rn(e);this._bootstrapComponents=yr(r.bootstrap),this._r3Injector=VA(e,n,[{provide:qr,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],ge(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Bt.THROW_IF_NOT_FOUND,r=$.Default){return e===Bt||e===qr||e===Xg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Tm extends Gx{constructor(e){super(),this.moduleType=e,null!==Rn(e)&&function pW(t){const e=new Set;!function n(r){const i=Rn(r,!0),s=i.id;null!==s&&(function qx(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ge(e)} vs ${ge(e.name)}`)}(s,qo.get(s),r),qo.set(s,r));const o=yr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new zx(this.moduleType,e)}}function Am(t){return e=>{setTimeout(t,void 0,e)}}const Ue=class NW extends Pr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Am(u),a&&(a=Am(a)),l&&(l=Am(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof _n&&e.add(c),c}};Symbol;let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=FW,t})();const PW=Wr,OW=class extends PW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=yu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),_u(n,r,e),new Mu(r)}};function FW(){return function bd(t,e){return 4&t.type?new OW(e,t,Ho(t,e)):null}(nt(),I())}let rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=LW,t})();function LW(){return function tM(t,e){let n;const r=e[t.index];if(Yn(r))n=r;else{let i;if(8&t.type)i=We(r);else{const s=e[Y];i=s.createComment("");const o=Ln(t,e);ts(s,nd(s,o),i,function g$(t,e){return Fe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=SA(r,e,i,t),ld(e,n)}return new Zx(n,t,e)}(nt(),I())}const VW=rr,Zx=class extends VW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gc(this._hostTNode,this._hostLView);if(qT(e)){const n=ho(e,this._hostLView),r=co(e);return new fo(n[1].data[r+8],n)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=eM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function ru(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Cm(Ft(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(qr,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function iB(t){return Yn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new Zx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function c$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],t0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function d$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Sg(s,o),u=r[Y],l=nd(u,o[7]);return null!==l&&function a$(t,e,n,r,i,s){r[0]=i,r[6]=e,mu(t,r,n,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),t0(xm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=eM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Cg(this._lContainer,n);r&&(zc(xm(this._lContainer),n),U0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Cg(this._lContainer,n);return r&&null!=zc(xm(this._lContainer),n)?new Mu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function eM(t){return t[8]}function xm(t){return t[8]||(t[8]=[])}function Td(...t){}const Hm=new z("Application Initializer");let Gm=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Td,this.reject=Td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Iu(s))n.push(s);else if(pm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Hm,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pu=new z("AppId",{providedIn:"root",factory:function bM(){return`${qm()}${qm()}${qm()}`}});function qm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DM=new z("Platform Initializer"),Ad=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CM=new z("appBootstrapListener");let d3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ii=new z("LocaleId",{providedIn:"root",factory:()=>JB(Ii,$.Optional|$.SkipSelf)||function h3(){return"undefined"!=typeof $localize&&$localize.locale||yd}()});class p3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let TM=(()=>{class t{compileModuleSync(n){return new Tm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=yr(Rn(n).declarations).reduce((o,a)=>{const u=Ft(a);return u&&o.push(new Cm(u)),o},[]);return new p3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m3=(()=>Promise.resolve(0))();function Wm(t){"undefined"==typeof Zone?m3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function y3(){let t=_e.requestAnimationFrame,e=_e.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function w3(t){const e=()=>{!function v3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Km(t),t.isCheckStableRunning=!0,zm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Km(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return AM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),SM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return AM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),SM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Km(t),zm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_3,Td,Td);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const _3={};function zm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Km(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function AM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SM(t){t._nesting--,zm(t)}class E3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Qm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),Wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(Ke))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),I3=(()=>{class t{constructor(){this._applications=new Map,Ym.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ym.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class b3{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Ym=new b3,is=null;const xM=new z("AllowMultipleToken"),MM=new z("PlatformOnDestroy");class kM{constructor(e,n){this.name=e,this.token=n}}function NM(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=Jm();if(!o||o.injector.get(xM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function A3(t){if(is&&!is.get(xM,!1))throw new ue(400,"");is=t;const e=t.get(RM),n=t.get(DM,null);n&&n.forEach(r=>r())}(function x3(t=[],e){return Bt.create({name:e,providers:[{provide:Zg,useValue:"platform"},{provide:MM,useValue:()=>is=null},...t]})}(a,r))}return function S3(t){const e=Jm();if(!e)throw new ue(401,"");return e}()}}function Jm(){var t;return null!==(t=null==is?void 0:is.get(RM))&&void 0!==t?t:null}let RM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function M3(t,e){let n;return n="noop"===t?new E3:("zone.js"===t?void 0:t)||new Ke({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ke,useValue:a}];return a.run(()=>{const l=Bt.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),d=c.injector.get(pu,null);if(!d)throw new ue(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{Zm(this._modules,c),h.unsubscribe()})}),function k3(t,e,n){try{const r=n();return Iu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(Gm);return h.runInitializers(),h.donePromise.then(()=>(function sq(t){wn(t,"Expected localeId to be defined"),"string"==typeof t&&(fx=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Ii,yd)||yd),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=PM({},r);return function C3(t,e,n){const r=new Tm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xm);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ue(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(MM,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function PM(t,e){return Array.isArray(e)?e.reduce(PM,t):Object.assign(Object.assign({},t),e)}let Xm=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Pe(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Pe(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),Wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function b2(...t){const e=qa(t),n=function m2(t,e){return"number"==typeof Ep(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?dr(r[0]):Ga(n)(pt(r,e)):Fr}(o,a.pipe(function D2(t={}){const{connector:e=(()=>new Pr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return Ct((g,_)=>{l++,!d&&!c&&h();const E=u=null!=u?u:e();_.add(()=>{l--,0===l&&!d&&!c&&(a=Ip(p,i))}),E.subscribe(_),o||(o=new Ec({next:y=>E.next(y),error:y=>{d=!0,h(),a=Ip(f,n,y),E.error(y)},complete:()=>{c=!0,h(),a=Ip(f,r),E.complete()}}),pt(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new ue(405,"");let i;i=n instanceof Vx?n:this._injector.get(xu).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function T3(t){return t.isBoundToModule}(i)?void 0:this._injector.get(qr),a=i.create(Bt.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(Qm,null),c=l&&a.injector.get(I3);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),Zm(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ue(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(CM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F(Ke),F(Bt),F(pu),F(Gm))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let FM=!0,Sd=(()=>{class t{}return t.__NG_ELEMENT_ID__=P3,t})();function P3(t){return function O3(t,e,n){if(Nc(t)&&!n){const r=bn(t.index,e);return new Mu(r,r)}return 47&t.type?new Mu(e[16],e):null}(nt(),I(),16==(16&t))}class jM{constructor(){}supports(e){return wu(e)}create(e){return new j3(e)}}const B3=(t,e)=>e;class j3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||B3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<HM(r,i,s)?n:r,a=HM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!wu(e))throw new ue(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function $H(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $3(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new $M),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $M),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class H3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class $M{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new H3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function qM(){return new kd([new jM])}let kd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qM()),deps:[[t,new uu,new mt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ue(901,"")}}return t.\u0275prov=ie({token:t,providedIn:"root",factory:qM}),t})();const K3=NM(null,"core",[]);let Q3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(Xm))},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})(),Nd=null;function br(){return Nd}const Bn=new z("DocumentToken");let os=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:function(){return function Z3(){return F(zM)}()},providedIn:"platform"}),t})();const ez=new z("Location Initialized");let zM=(()=>{class t extends os{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return br().getBaseHref(this._doc)}onPopState(n){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){KM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){KM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ie({token:t,factory:function(){return function tz(){return new zM(F(Bn))}()},providedIn:"platform"}),t})();function KM(){return!!window.history.pushState}function iy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function QM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function zr(t){return t&&"?"!==t[0]?"?"+t:t}let zo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:function(){return function nz(t){const e=F(Bn).location;return new YM(F(os),e&&e.origin||"")}()},providedIn:"root"}),t})();const sy=new z("appBaseHref");let YM=(()=>{class t extends zo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return iy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(os),F(sy,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),rz=(()=>{class t extends zo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=iy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(os),F(sy,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),oy=(()=>{class t{constructor(n,r){this._subject=new Ue,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=QM(JM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+zr(r))}normalize(n){return t.stripTrailingSlash(function sz(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,JM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=zr,t.joinWithSlash=iy,t.stripTrailingSlash=QM,t.\u0275fac=function(n){return new(n||t)(F(zo),F(os))},t.\u0275prov=ie({token:t,factory:function(){return function iz(){return new oy(F(zo),F(os))}()},providedIn:"root"}),t})();function JM(t){return t.replace(/\/index.html$/,"")}class qz{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ok=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),ak(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ak(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(rr),b(Wr),b(kd))},t.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function ak(t,e){t.context.$implicit=e.item}let my=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Wz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(rr),b(Wr))},t.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Wz{constructor(){this.$implicit=null,this.ngIf=null}}function uk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ge(e)}'.`)}let v4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();let b4=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>new D4(F(Bn),window)}),t})();class D4{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function C4(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=hk(this.window.history)||hk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function hk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ey extends class A4 extends class X3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J3(t){Nd||(Nd=t)}(new Ey)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function S4(){return Vu=Vu||document.querySelector("base"),Vu?Vu.getAttribute("href"):null}();return null==n?null:function x4(t){$d=$d||document.createElement("a"),$d.setAttribute("href",t);const e=$d.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $z(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let $d,Vu=null;const fk=new z("TRANSITION_ID"),k4=[{provide:Hm,useFactory:function M4(t,e,n){return()=>{n.get(Gm).donePromise.then(()=>{const r=br(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[fk,Bn,Bt],multi:!0}];class Iy{static init(){!function D3(t){Ym=t}(new Iy)}addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?br().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let N4=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const Hd=new z("EventManagerPlugins");let Gd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(Hd),F(Ke))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class pk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=br().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let gk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),Uu=(()=>{class t extends gk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(mk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(mk))}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function mk(t){br().remove(t)}const by={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dy=/%COMP%/g;function qd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?qd(t,i,n):(i=i.replace(Dy,t),n.push(i))}return n}function vk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cy=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ty(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case hr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new V4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case hr.ShadowDom:return new U4(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=qd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(Gd),F(Uu),F(Pu))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class Ty{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(by[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=by[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=by[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,vk(r)):this.eventManager.addEventListener(e,n,vk(r))}}class V4 extends Ty{constructor(e,n,r,i){super(e),this.component=r;const s=qd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function O4(t){return"_ngcontent-%COMP%".replace(Dy,t)}(i+"-"+r.id),this.hostAttr=function F4(t){return"_nghost-%COMP%".replace(Dy,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class U4 extends Ty{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=qd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let B4=(()=>{class t extends pk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const Ek=["alt","control","meta","shift"],$4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ik={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},H4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let G4=(()=>{class t extends pk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>br().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Ek.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function q4(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ik.hasOwnProperty(e)&&(e=Ik[e]))}return $4[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ek.forEach(s=>{s!=i&&H4[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const Q4=NM(K3,"browser",[{provide:Ad,useValue:"browser"},{provide:DM,useValue:function W4(){Ey.makeCurrent(),Iy.init()},multi:!0},{provide:Bn,useFactory:function K4(){return function eB(t){Vp=t}(document),document},deps:[]}]),Y4=[{provide:Zg,useValue:"root"},{provide:pu,useFactory:function z4(){return new pu},deps:[]},{provide:Hd,useClass:B4,multi:!0,deps:[Bn,Ke,Ad]},{provide:Hd,useClass:G4,multi:!0,deps:[Bn]},{provide:Cy,useClass:Cy,deps:[Gd,Uu,Pu]},{provide:Bx,useExisting:Cy},{provide:gk,useExisting:Uu},{provide:Uu,useClass:Uu,deps:[Bn]},{provide:Qm,useClass:Qm,deps:[Ke]},{provide:Gd,useClass:Gd,deps:[Hd,Ke]},{provide:class T4{},useClass:N4,deps:[]}];let J4=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Pu,useValue:n.appId},{provide:fk,useExisting:Pu},k4]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:Y4,imports:[v4,Q3]}),t})();function Ck(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Ck(s,r,i,o,a,"next",u)}function a(u){Ck(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const Tk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},xy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Wd=function(t){return function(t){const e=Tk(t);return xy.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class ky{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Sn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Sk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function zd(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function xk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function as(){return"object"==typeof indexedDB}function Bu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Ny(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function _8(t,e){return t.replace(v8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Qr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const v8=/\{\$([^}]+)}/g;function Ry(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kk(s)&&kk(o)){if(!Ry(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kk(t){return null!==t&&"object"==typeof t}function Nk(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class E8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function I8(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Py),void 0===i.error&&(i.error=Py),void 0===i.complete&&(i.complete=Py);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Py(){}function Fy(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Hn(t){return t&&t._delegate?t._delegate:t}class $t{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class S8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ky;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function M8(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===us?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class k8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Ly=[];var ce=(()=>{return(t=ce||(ce={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ce;var t})();const Rk={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},N8=ce.INFO,R8={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},P8=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=R8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ko{constructor(e){this.name=e,this._logLevel=N8,this._logHandler=P8,this._userLogHandler=null,Ly.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}let Pk,Ok;const Fk=new WeakMap,Vy=new WeakMap,Lk=new WeakMap,Uy=new WeakMap,By=new WeakMap;let jy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Vy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Lk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $8(t){return"function"==typeof t?function j8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L8(){return Ok||(Ok=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($y(this),e),Yr(Fk.get(this))}:function(...e){return Yr(t.apply($y(this),e))}:function(e,...n){const r=t.call($y(this),e,...n);return Lk.set(r,e.sort?e.sort():[e]),Yr(r)}}(t):(t instanceof IDBTransaction&&function U8(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vy.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function F8(){return Pk||(Pk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,jy):t)}function Yr(t){if(t instanceof IDBRequest)return function V8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fk.set(n,t)}).catch(()=>{}),By.set(e,t),e}(t);if(Uy.has(t))return Uy.get(t);const e=$8(t);return e!==t&&(Uy.set(t,e),By.set(e,t)),e}const $y=t=>By.get(t);function Qd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yr(o.result),u.oldVersion,u.newVersion,Yr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Hy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Yr(n).then(()=>{})}const H8=["get","getKey","getAll","getAllKeys","count"],G8=["put","add","delete","clear"],Gy=new Map;function Vk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Gy.get(e))return Gy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!H8.includes(n))return;const s=function(){var o=m(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Gy.set(e,s),s}!function B8(t){jy=t(jy)}(t=>$U(jU({},t),{get:(e,n,r)=>Vk(e,n)||t.get(e,n,r),has:(e,n)=>!!Vk(e,n)||t.has(e,n)}));class q8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function W8(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const qy="@firebase/app",Wy=new Ko("@firebase/app"),zy="[DEFAULT]",_6={[qy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ls=new Map,Yd=new Map;function v6(t,e){try{t.container.addComponent(e)}catch(n){Wy.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Yd.has(e))return Wy.debug(`There were multiple attempts to register component ${e}.`),!1;Yd.set(e,t);for(const n of ls.values())v6(n,t);return!0}function Jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Di=new Dr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}function I6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:zy,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Di.create("bad-app-name",{appName:String(r)});const i=ls.get(r);if(i){if(Ry(t,i.options)&&Ry(n,i.config))return i;throw Di.create("duplicate-app",{appName:r})}const s=new k8(r);for(const a of Yd.values())s.addComponent(a);const o=new E6(t,n,s);return ls.set(r,o),o}function Bk(t=zy){const e=ls.get(t);if(!e)throw Di.create("no-app",{appName:t});return e}function jk(){return Array.from(ls.values())}function He(t,e,n){var r;let i=null!==(r=_6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wy.warn(a.join(" "))}en(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ju="firebase-heartbeat-store";let Qy=null;function $k(){return Qy||(Qy=Qd("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ju)}}).catch(t=>{throw Di.create("storage-open",{originalErrorMessage:t.message})})),Qy}function Yy(){return(Yy=m(function*(t){try{return(yield $k()).transaction(ju).objectStore(ju).get(Gk(t))}catch(e){throw Di.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function Hk(t,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=m(function*(t,e){try{const r=(yield $k()).transaction(ju,"readwrite");return yield r.objectStore(ju).put(e,Gk(t)),r.done}catch(n){throw Di.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function Gk(t){return`${t.name}!${t.options.appId}`}class S6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=qk(),{heartbeatsToSend:r,unsentEntries:i}=function x6(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Wd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function qk(){return(new Date).toISOString().substring(0,10)}class M6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!as()&&Bu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function C6(t){return Yy.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Hk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Hk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Wk(t){return Wd(JSON.stringify({version:2,heartbeats:t})).length}!function k6(t){en(new $t("platform-logger",e=>new q8(e),"PRIVATE")),en(new $t("heartbeat",e=>new S6(e),"PRIVATE")),He(qy,"0.7.24",t),He(qy,"0.7.24","esm2017"),He("fire-js","")}(""),He("firebase","9.8.1","app");const zk="@firebase/installations",Qk="w:0.5.9",Yk="FIS_v2",Jr=new Dr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Jk(t){return t instanceof Qr&&t.code.includes("request-failed")}function Zy({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Xk(t){return{token:t.token,requestStatus:2,expiresIn:U6(t.expiresIn),creationTime:Date.now()}}function e_(t,e){return t_.apply(this,arguments)}function t_(){return(t_=m(function*(t,e){const r=(yield e.json()).error;return Jr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Zk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function eN(t,{refreshToken:e}){const n=Zk(t);return n.append("Authorization",function B6(t){return`${Yk} ${t}`}(e)),n}function n_(t){return r_.apply(this,arguments)}function r_(){return(r_=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function U6(t){return Number(t.replace("s","000"))}function j6(t,e){return i_.apply(this,arguments)}function i_(){return(i_=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Zy(t),i=Zk(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Yk,appId:t.appId,sdkVersion:Qk})},u=yield n_(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Xk(l.authToken)}}throw yield e_("Create Installation",u)})).apply(this,arguments)}function tN(t){return new Promise(e=>{setTimeout(e,t)})}const H6=/^[cdef][\w-]{21}$/;function G6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function q6(t){return function $6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return H6.test(n)?n:""}catch(t){return""}}function Qo(t){return`${t.appName}!${t.appId}`}const Yo=new Map;function nN(t,e){const n=Qo(t);rN(n,e),function K6(t,e){const n=function iN(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{rN(t.data.key,t.data.fid)}),cs}();n&&n.postMessage({key:t,fid:e}),function sN(){0===Yo.size&&cs&&(cs.close(),cs=null)}()}(n,e)}function rN(t,e){const n=Yo.get(t);if(n)for(const r of n)r(e)}let cs=null;const ds="firebase-installations-store";let o_=null;function a_(){return o_||(o_=Qd("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ds)}})),o_}function Zd(t,e){return u_.apply(this,arguments)}function u_(){return(u_=m(function*(t,e){const n=Qo(t),i=(yield a_()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&nN(t,e.fid),e})).apply(this,arguments)}function l_(t){return c_.apply(this,arguments)}function c_(){return(c_=m(function*(t){const e=Qo(t),r=(yield a_()).transaction(ds,"readwrite");yield r.objectStore(ds).delete(e),yield r.done})).apply(this,arguments)}function $u(t,e){return d_.apply(this,arguments)}function d_(){return(d_=m(function*(t,e){const n=Qo(t),i=(yield a_()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&nN(t,a.fid),a})).apply(this,arguments)}function h_(t){return f_.apply(this,arguments)}function f_(){return(f_=m(function*(t){let e;const n=yield $u(t.appConfig,r=>{const i=J6(r),s=X6(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function J6(t){return aN(t||{fid:G6(),registrationStatus:0})}function X6(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Z6(t,e){return p_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:eK(t)}:{installationEntry:e}}function p_(){return(p_=m(function*(t,e){try{const n=yield j6(t,e);return Zd(t.appConfig,n)}catch(n){throw Jk(n)&&409===n.customData.serverCode?yield l_(t.appConfig):yield Zd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function eK(t){return g_.apply(this,arguments)}function g_(){return(g_=m(function*(t){let e=yield oN(t.appConfig);for(;1===e.registrationStatus;)yield tN(100),e=yield oN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield h_(t);return r||n}return e})).apply(this,arguments)}function oN(t){return $u(t,e=>{if(!e)throw Jr.create("installation-not-found");return aN(e)})}function aN(t){return function tK(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function nK(t,e){return m_.apply(this,arguments)}function m_(){return(m_=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=rK(t,n),i=eN(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Qk,appId:t.appId}})},u=yield n_(()=>fetch(r,a));if(u.ok)return Xk(yield u.json());throw yield e_("Generate Auth Token",u)})).apply(this,arguments)}function rK(t,{fid:e}){return`${Zy(t)}/${e}/authTokens:generate`}function y_(t){return __.apply(this,arguments)}function __(){return(__=m(function*(t,e=!1){let n;const r=yield $u(t.appConfig,s=>{if(!lN(s))throw Jr.create("not-registered");const o=s.authToken;if(!e&&oK(o))return s;if(1===o.requestStatus)return n=iK(t,e),s;{if(!navigator.onLine)throw Jr.create("app-offline");const a=uK(s);return n=sK(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function iK(t,e){return v_.apply(this,arguments)}function v_(){return(v_=m(function*(t,e){let n=yield uN(t.appConfig);for(;1===n.authToken.requestStatus;)yield tN(100),n=yield uN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?y_(t,e):r})).apply(this,arguments)}function uN(t){return $u(t,e=>{if(!lN(e))throw Jr.create("not-registered");return function lK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function sK(t,e){return w_.apply(this,arguments)}function w_(){return(w_=m(function*(t,e){try{const n=yield nK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Zd(t.appConfig,r),n}catch(n){if(!Jk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Zd(t.appConfig,r)}else yield l_(t.appConfig);throw n}})).apply(this,arguments)}function lN(t){return void 0!==t&&2===t.registrationStatus}function oK(t){return 2===t.requestStatus&&!function aK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function uK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function E_(){return(E_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield h_(e);return r?r.catch(console.error):y_(e).catch(console.error),n.fid})).apply(this,arguments)}function I_(){return(I_=m(function*(t,e=!1){const n=t;return yield hK(n),(yield y_(n,e)).token})).apply(this,arguments)}function hK(t){return b_.apply(this,arguments)}function b_(){return(b_=m(function*(t){const{registrationPromise:e}=yield h_(t);e&&(yield e)})).apply(this,arguments)}function T_(t){return Jr.create("missing-app-config-values",{valueName:t})}const cN="installations",yK=t=>{const e=t.getProvider("app").getImmediate(),n=function gK(t){if(!t||!t.options)throw T_("App Configuration");if(!t.name)throw T_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw T_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Jd(e,"heartbeat"),_delete:()=>Promise.resolve()}},_K=t=>{const n=Jd(t.getProvider("app").getImmediate(),cN).getImmediate();return{getId:()=>function cK(t){return E_.apply(this,arguments)}(n),getToken:i=>function dK(t){return I_.apply(this,arguments)}(n,i)}};(function vK(){en(new $t(cN,yK,"PUBLIC")),en(new $t("installations-internal",_K,"PRIVATE"))})(),He(zk,"0.5.9"),He(zk,"0.5.9","esm2017");const A_="@firebase/remote-config",fn=new Dr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class MK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function kK(t=navigator){return t.languages&&t.languages[0]||t.language}class NK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:kK()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((E,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(E){let y="fetch-client-network";throw"AbortError"===E.name&&(y="fetch-timeout"),fn.create(y,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw fn.create("fetch-client-parse",{originalErrorMessage:y.message})}g=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw fn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class OK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function RK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function PK(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Fy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class VK{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function th(t,e){const n=t.target.error||void 0;return fn.create(e,{originalErrorMessage:n&&n.message})}const hs="app_namespace_store";class $K{constructor(e,n,r,i=function jK(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(th(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hs,{keyPath:"compositeKey"})}}catch(n){e(fn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([hs],"readonly").objectStore(hs),u=n.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(th(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(fn.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([hs],"readwrite").objectStore(hs),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:n});c.onerror=d=>{o(th(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(fn.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([hs],"readwrite").objectStore(hs),u=n.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(th(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(fn.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class HK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function qK(){return N_.apply(this,arguments)}function N_(){return(N_=m(function*(){if(!as())return!1;try{return yield Bu()}catch(t){return!1}})).apply(this,arguments)}!function GK(){en(new $t("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fn.create("registration-window");if(!as())throw fn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw fn.create("registration-project-id");if(!o)throw fn.create("registration-api-key");if(!a)throw fn.create("registration-app-id");const u=new $K(a,r.name,n=n||"firebase"),l=new HK(u),c=new Ko(A_);c.logLevel=ce.ERROR;const d=new NK(i,"9.8.1",n,s,o,a),h=new OK(d,u),f=new MK(h,u,l,c),p=new VK(r,f,l,u,c);return function AK(t){const e=Hn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),He(A_,"0.3.8"),He(A_,"0.3.8","esm2017")}();const WK="/firebase-messaging-sw.js",zK="/firebase-cloud-messaging-push-scope",pN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gN="google.c.a.c_id",QK="google.c.a.c_l",YK="google.c.a.ts",JK="google.c.a.e";var Jo=(()=>{return(t=Jo||(Jo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Jo;var t})();function Xr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function XK(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const R_="fcm_token_details_db",mN="fcm_token_object_Store";function e7(t){return P_.apply(this,arguments)}function P_(){return P_=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(R_))return null;let e=null;return(yield Qd(R_,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(mN))return;const l=a.objectStore(mN),c=yield l.index("fcmSenderId").get(t);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Xr(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Hy(R_),yield Hy("fcm_vapid_details_db"),yield Hy("undefined"),t7(e)?e:null;var r}),P_.apply(this,arguments)}function t7(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const fs="firebase-messaging-store";let O_=null;function F_(){return O_||(O_=Qd("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fs)}})),O_}function yN(t){return L_.apply(this,arguments)}function L_(){return(L_=m(function*(t){const e=j_(t),r=yield(yield F_()).transaction(fs).objectStore(fs).get(e);if(r)return r;{const i=yield e7(t.appConfig.senderId);if(i)return yield V_(t,i),i}})).apply(this,arguments)}function V_(t,e){return U_.apply(this,arguments)}function U_(){return(U_=m(function*(t,e){const n=j_(t),i=(yield F_()).transaction(fs,"readwrite");return yield i.objectStore(fs).put(e,n),yield i.done,e})).apply(this,arguments)}function i7(t){return B_.apply(this,arguments)}function B_(){return(B_=m(function*(t){const e=j_(t),r=(yield F_()).transaction(fs,"readwrite");yield r.objectStore(fs).delete(e),yield r.done})).apply(this,arguments)}function j_({appConfig:t}){return t.appId}const At=new Dr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function o7(t,e){return $_.apply(this,arguments)}function $_(){return($_=m(function*(t,e){const n=yield W_(t),r=vN(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(q_(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function a7(t,e){return H_.apply(this,arguments)}function H_(){return(H_=m(function*(t,e){const n=yield W_(t),r=vN(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${q_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function _N(t,e){return G_.apply(this,arguments)}function G_(){return(G_=m(function*(t,e){const r={method:"DELETE",headers:yield W_(t)};try{const s=yield(yield fetch(`${q_(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function q_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function W_(t){return z_.apply(this,arguments)}function z_(){return(z_=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function vN({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==pN&&(i.web.applicationPubKey=r),i}const u7=6048e5;function l7(t){return K_.apply(this,arguments)}function K_(){return(K_=m(function*(t){const e=yield d7(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xr(e.getKey("auth")),p256dh:Xr(e.getKey("p256dh"))},r=yield yN(t.firebaseDependencies);if(r){if(h7(r.subscriptionOptions,n))return Date.now()>=r.createTime+u7?c7(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield _N(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return EN(t.firebaseDependencies,n)}return EN(t.firebaseDependencies,n)})).apply(this,arguments)}function wN(t){return Q_.apply(this,arguments)}function Q_(){return(Q_=m(function*(t){const e=yield yN(t.firebaseDependencies);e&&(yield _N(t.firebaseDependencies,e.token),yield i7(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function c7(t,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(t,e){try{const n=yield a7(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield V_(t.firebaseDependencies,r),n}catch(n){throw yield wN(t),n}})).apply(this,arguments)}function EN(t,e){return J_.apply(this,arguments)}function J_(){return(J_=m(function*(t,e){const r={token:yield o7(t,e),createTime:Date.now(),subscriptionOptions:e};return yield V_(t,r),r.token})).apply(this,arguments)}function d7(t,e){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:XK(e)})})).apply(this,arguments)}function h7(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function IN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function f7(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function p7(t,e){!e.data||(t.data=e.data)}(e,t),function g7(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function m7(t){return"object"==typeof t&&!!t&&gN in t}function bN(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Z_(t){return At.create("missing-app-config-values",{valueName:t})}bN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bN("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function y7(t){if(!t||!t.options)throw Z_("App Configuration Object");if(!t.name)throw Z_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Z_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function DN(t){return ev.apply(this,arguments)}function ev(){return(ev=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(WK,{scope:zK}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function v7(t,e){return tv.apply(this,arguments)}function tv(){return(tv=m(function*(t,e){if(!e&&!t.swRegistration&&(yield DN(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function w7(t,e){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=pN)})).apply(this,arguments)}function rv(){return(rv=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield w7(t,null==e?void 0:e.vapidKey),yield v7(t,null==e?void 0:e.serviceWorkerRegistration),l7(t)})).apply(this,arguments)}function E7(t,e,n){return iv.apply(this,arguments)}function iv(){return(iv=m(function*(t,e,n){const r=I7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[gN],message_name:n[QK],message_time:n[YK],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function I7(t){switch(t){case Jo.NOTIFICATION_CLICKED:return"notification_open";case Jo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sv(){return(sv=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Jo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(IN(n)):t.onMessageHandler.next(IN(n)));const r=n.data;m7(r)&&"1"===r[JK]&&(yield E7(t,n.messageType,r))})).apply(this,arguments)}const TN="@firebase/messaging",D7=t=>{const e=new _7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function b7(t,e){return sv.apply(this,arguments)}(e,n)),e},C7=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function CN(t,e){return rv.apply(this,arguments)}(e,r)}};function SN(){return ov.apply(this,arguments)}function ov(){return(ov=m(function*(){try{yield Bu()}catch(t){return!1}return"undefined"!=typeof window&&as()&&Ny()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function T7(){en(new $t("messaging",D7,"PUBLIC")),en(new $t("messaging-internal",C7,"PRIVATE")),He(TN,"0.9.13"),He(TN,"0.9.13","esm2017")}();const nh="analytics",x7="firebase_id",N7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xN="https://www.googletagmanager.com/gtag/js",St=new Ko("@firebase/analytics");function MN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function R7(t,e){const n=document.createElement("script");n.src=`${xN}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function O7(t,e,n,r,i,s){return lv.apply(this,arguments)}function lv(){return(lv=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield MN(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)})).apply(this,arguments)}function F7(t,e,n,r,i){return cv.apply(this,arguments)}function cv(){return(cv=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield MN(n);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}})).apply(this,arguments)}function U7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(xN))return e;return null}const xn=new Dr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kN=new class H7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function G7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function q7(t){return dv.apply(this,arguments)}function dv(){return(dv=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:G7(r)},s=N7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function W7(t){return hv.apply(this,arguments)}function hv(){return(hv=m(function*(t,e=kN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Q7;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),NN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function NN(t,e,n){return fv.apply(this,arguments)}function fv(){return(fv=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=kN){const{appId:s,measurementId:o}=t;try{yield z7(r,e)}catch(a){if(o)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield q7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!K7(a)){if(i.deleteThrottleMetadata(s),o)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Fy(n,i.intervalMillis,30):Fy(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,l),St.debug(`Calling attemptFetch again in ${u} millis`),NN(t,l,r,i)}})).apply(this,arguments)}function z7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function K7(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Q7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Y7(){return pv.apply(this,arguments)}function pv(){return(pv=m(function*(){if(!as())return St.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Bu()}catch(t){return St.warn(xn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function gv(){return(gv=m(function*(t,e,n,r,i,s,o){var a;const u=W7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const l=Y7().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);U7()||R7(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[x7]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class X7{constructor(e){this.app=e}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},RN=[];const PN={};let FN,Hu,rh="dataLayer",mv=!1;function e5(t,e,n){!function Z7(){const t=[];if(zd()&&t.push("This is a browser extension environment."),Ny()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw xn.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[r])throw xn.create("already-exists",{id:r});if(!mv){!function P7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(rh);const{wrappedGtag:s,gtagCore:o}=function V7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function L7(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield F7(t,e,n,a,u):"config"===o?yield O7(t,e,n,r,a,u):t("set",a)}catch(l){St.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Zr,RN,PN,rh,"gtag");Hu=s,FN=o,mv=!0}return Zr[r]=function J7(t,e,n,r,i,s,o){return gv.apply(this,arguments)}(t,RN,PN,e,FN,rh,n),new X7(t)}function yv(){return(yv=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function a5(){return Iv.apply(this,arguments)}function Iv(){return(Iv=m(function*(){if(zd()||!Ny()||!as())return!1;try{return yield Bu()}catch(t){return!1}})).apply(this,arguments)}const LN="@firebase/analytics";!function l5(){en(new $t(nh,(e,{options:n})=>e5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),en(new $t("analytics-internal",function t(e){try{const n=e.getProvider(nh).getImmediate();return{logEvent:(r,i,s)=>function u5(t,e,n,r){t=Hn(t),function t5(t,e,n,r,i){return yv.apply(this,arguments)}(Hu,Zr[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),He(LN,"0.7.9"),He(LN,"0.7.9","esm2017")}();class c5 extends _n{constructor(e,n){super()}schedule(e,n=0){return this}}const ih={setInterval(t,e,...n){const{delegate:r}=ih;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ih;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class UN extends c5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return ih.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;ih.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const BN={now:()=>(BN.delegate||Date).now(),delegate:void 0};class Gu{constructor(e,n=Gu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Gu.now=BN.now;class jN extends Gu{constructor(e,n=Gu.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const f5=new class h5 extends jN{}(class d5 extends UN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),p5=new jN(UN);function pn(t,e,n){const r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ct((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ki}const bv=new Go("7.3.0"),Dv="__angularfire_symbol__analyticsIsSupportedValue",Cv="__angularfire_symbol__analyticsIsSupported",Tv="__angularfire_symbol__remoteConfigIsSupportedValue",Av="__angularfire_symbol__remoteConfigIsSupported",Sv="__angularfire_symbol__messagingIsSupportedValue",xv="__angularfire_symbol__messagingIsSupported";globalThis[Cv]||(globalThis[Cv]=a5().then(t=>globalThis[Dv]=t).catch(()=>globalThis[Dv]=!1)),globalThis[xv]||(globalThis[xv]=SN().then(t=>globalThis[Sv]=t).catch(()=>globalThis[Sv]=!1)),globalThis[Av]||(globalThis[Av]=qK().then(t=>globalThis[Tv]=t).catch(()=>globalThis[Tv]=!1));const Nv=(t,e)=>{const n=e?[e]:jk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Xo(){}class $N{constructor(e,n=f5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class g5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),n.pipe(pn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let HN=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $N(Zone.current)),this.insideAngular=n.run(()=>new $N(Zone.current,p5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(Ke))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ps(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function m5(t){return ps().ngZone.runOutsideAngular(()=>t())}function gs(t){return ps().ngZone.run(()=>t())}function y5(t){return ps(),function _5(t){return function(n){return(n=n.lift(new g5(t.ngZone))).pipe(Dc(t.outsideAngular),bc(t.insideAngular))}}(ps())(t)}const v5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),gs(()=>t.apply(void 0,r))},qu=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=gs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)))),r[s]=v5(r[s],n));const i=m5(()=>t.apply(this,r));if(!e){if(i instanceof Pe){const s=ps();return i.pipe(Dc(s.outsideAngular),bc(s.insideAngular))}return gs(()=>i)}return i instanceof Pe?i.pipe(y5):i instanceof Promise?gs(()=>new Promise((s,o)=>i.then(a=>gs(()=>s(a)),a=>gs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:gs(()=>i)};class Zo{constructor(e){return e}}class GN{constructor(){return jk()}}const Rv=new z("angularfire2._apps"),E5={provide:Zo,useFactory:function w5(t){return t&&1===t.length?t[0]:new Zo(Bk())},deps:[[new mt,Rv]]},I5={provide:GN,deps:[[new mt,Rv]]};function b5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Zo(r)}}let D5=(()=>{class t{constructor(n){He("angularfire",bv.full,"core"),He("angularfire",bv.full,"app"),He("angular",jx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(Ad))},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:[E5,I5]}),t})();function C5(t,...e){return{ngModule:D5,providers:[{provide:Rv,useFactory:b5(t),multi:!0,deps:[Ke,Bt,HN,...e]}]}}const T5=qu(I6,!0);const A5=function qN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},WN=new Dr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zN=new Ko("@firebase/auth");function sh(t,...e){zN.logLevel<=ce.ERROR&&zN.error(`Auth (9.8.1): ${t}`,...e)}function gn(t,...e){throw Pv(t,...e)}function Cr(t,...e){return Pv(t,...e)}function KN(t,e,n){const r=Object.assign(Object.assign({},A5()),{[e]:n});return new Dr("auth","Firebase",r).create(e,{appName:t.name})}function Pv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WN.create(t,...e)}function A(t,e,...n){if(!t)throw Pv(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function Ci(t,e){t||Tr(e)}const QN=new Map;function ei(t){Ci(t instanceof Function,"Expected a class definition");let e=QN.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QN.set(t,e),e)}function YN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=Sk()||xk()}get(){return function M5(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ov(){return"http:"===YN()||"https:"===YN()}()||zd()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class JN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R5=new zu(3e4,6e4);function yt(t,e,n,r){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(t,e,n,r,i={}){return XN(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Nk(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),JN.fetch()(ZN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function XN(t,e,n){return Vv.apply(this,arguments)}function Vv(){return(Vv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N5),e);try{const i=new P5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw oh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw oh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw oh(t,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw KN(t,c,l);gn(t,c)}}catch(i){if(i instanceof Qr)throw i;gn(t,"network-request-failed")}})).apply(this,arguments)}function ZN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Fv(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class P5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),R5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function Bv(){return(Bv=m(function*(t,e){return yt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function L5(t,e){return $v.apply(this,arguments)}function $v(){return($v=m(function*(t,e){return yt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Hv(){return(Hv=m(function*(t,e=!1){const n=Hn(t),r=yield n.getIdToken(e),i=ah(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ku(Gv(i.auth_time)),issuedAtTime:Ku(Gv(i.iat)),expirationTime:Ku(Gv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Gv(t){return 1e3*Number(t)}function ah(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return xy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(sh("Failed to decode base64 JWT payload"),null)}catch(i){return sh("Caught error parsing JWT payload as JSON",i),null}}function ni(t,e){return qv.apply(this,arguments)}function qv(){return(qv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Qr&&B5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function B5({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class j5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class e1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qu(t){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ni(t,L5(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?G5(s.providerUserInfo):[],a=H5(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new e1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function zv(){return(zv=m(function*(t){const e=Hn(t);yield Qu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function H5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function G5(t){return t.map(e=>{var{providerId:n}=e,r=ZC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Kv(){return(Kv=m(function*(t,e){const n=yield XN(t,{},m(function*(){const r=Nk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",JN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function U5(t){const e=ah(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function q5(t,e){return Kv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Yu;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yu,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function Ti(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ZC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new e1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ni(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function V5(t){return Hv.apply(this,arguments)}(this,e)}reload(){return function $5(t){return zv.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Qu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ni(e,function O5(t,e){return Bv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:P,isAnonymous:O,providerData:Z,stsTokenManager:Se}=n;A(T&&Se,e,"internal-error");const cr=Yu.fromJSON(this.name,Se);A("string"==typeof T,e,"internal-error"),Ti(d,e.name),Ti(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),Ti(f,e.name),Ti(p,e.name),Ti(g,e.name),Ti(_,e.name),Ti(E,e.name),Ti(y,e.name);const to=new ms({uid:T,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:cr,createdAt:E,lastLoginAt:y});return Z&&Array.isArray(Z)&&(to.providerData=Z.map(_c=>Object.assign({},_c))),_&&(to._redirectEventId=_),to}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Yu;i.updateFromServerResponse(n);const s=new ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qu(s),s})()}}const t1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function uh(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,s),this.fullPersistenceKey=uh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ms._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new ta(ei(t1),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||ei(t1);const o=uh(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=yield l._get(o);if(c){const d=ms._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new ta(s,e,r)):new ta(s,e,r)})()}}function n1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function s1(t=Sn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function r1(t=Sn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function a1(t=Sn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function u1(t=Sn()){return/webos/i.test(t)}(e))return"Webos";if(function Qv(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function i1(t=Sn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function o1(t=Sn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function l1(t,e=[]){let n;switch(t){case"Browser":n=n1(Sn());break;case"Worker":n=`${n1(Sn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.8.1/${e.length?e.join(","):"FirebaseCore-web"}`}class K5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class Q5{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c1(this),this.idTokenSubscription=new c1(this),this.beforeStateQueue=new K5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ta.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===u)&&(null==l?void 0:l.user)&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Qu(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function k5(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Hn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ei(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ei(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield ta.create(n,[ei(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class c1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function w8(t,e){const n=new E8(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function x1(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new zu(3e4,6e4),new zu(2e3,1e4),new zu(3e4,6e4),new zu(5e3,15e3);var j1="@firebase/auth";class VQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function BQ(t){en(new $t("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(t)},c=new Q5(a,u,l);return function x5(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new $t("auth-internal",e=>{const n=function mn(t){return Hn(t)}(e.getProvider("auth").getImmediate());return new VQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(j1,"0.20.1",function UQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),He(j1,"0.20.1","esm2017")}("Browser");class G1{constructor(){return Nv("auth")}}const q1=new Map,GQ={activated:!1,tokenObservers:[]},qQ={initialized:!1,enabled:!1};function _t(t){return q1.get(t)||GQ}function or(t,e){q1.set(t,e)}function wh(){return qQ}class YQ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new ky,yield function JQ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ky,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tn=new Dr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function z1(t){if(!_t(t).activated)throw tn.create("use-before-activation",{appName:t.name})}function RE(t,e){return PE.apply(this,arguments)}function PE(){return(PE=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw tn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw tn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function nY(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const tl="firebase-app-check-store";let bh=null;function Q1(){return bh||(bh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tl,{keyPath:"compositeKey"})}}catch(n){e(tn.create("storage-open",{originalErrorMessage:n.message}))}}),bh)}function OE(){return(OE=m(function*(t,e){const r=(yield Q1()).transaction(tl,"readwrite"),s=r.objectStore(tl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(tn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const nl=new Ko("@firebase/app-check");function Z1(t,e){return as()?function oY(t,e){return function Y1(t,e){return OE.apply(this,arguments)}(function X1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{nl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eR(){return wh().enabled}function tR(){return UE.apply(this,arguments)}function UE(){return(UE=m(function*(){const t=wh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hY={error:"UNKNOWN_ERROR"};function fY(t){return xy.encodeString(JSON.stringify(t),!1)}function Dh(t){return BE.apply(this,arguments)}function BE(){return(BE=m(function*(t,e=!1){const n=t.app;z1(n);const r=_t(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Ch(u)&&(i=u)}if(!e&&i&&Ch(i))return{token:i.token};let a,o=!1;if(eR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RE(nY(n,yield tR()),t.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield Z1(n,u),or(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?nl.warn(u.message):nl.error(u),s=u}return i?(a={token:i.token},or(n,Object.assign(Object.assign({},r),{token:i})),yield Z1(n,i)):a=gY(s),o&&rR(n,a),a})).apply(this,arguments)}function $E(t,e){const n=_t(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),or(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function nR(t){const{app:e}=t,n=_t(e);let r=n.tokenRefresher;r||(r=function pY(t){const{app:e}=t;return new YQ(m(function*(){let r;if(r=_t(e).token?yield Dh(t,!0):yield Dh(t),r.error)throw r.error}),()=>!0,()=>{const n=_t(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),or(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function rR(t,e){const n=_t(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Ch(t){return t.expireTimeMillis-Date.now()>0}function gY(t){return{token:fY(hY),error:t}}class mY{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=_t(this.app);for(const n of e)$E(this.app,n.next);return Promise.resolve()}}const dR="app-check-internal";!function MY(){en(new $t("app-check",t=>function yY(t,e){return new mY(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(dR).initialize()})),en(new $t(dR,t=>function _Y(t){return{getToken:e=>Dh(t,e),addTokenListener:e=>function jE(t,e,n,r){const{app:i}=t,s=_t(i),o={next:n,error:r,type:e};if(or(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Ch(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),nR(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>nR(t))}(t,"INTERNAL",e),removeTokenListener:e=>$E(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),He("@firebase/app-check","0.5.8")}();class fR{constructor(){return Nv("app-check")}}"undefined"!=typeof window&&window;var N,OY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ii={},zE=zE||{},H=OY||self;function Ah(){}function KE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var QE="closure_uid_"+(1e9*Math.random()>>>0),LY=0;function VY(t,e,n){return t.call.apply(t.bind,arguments)}function UY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VY:UY).apply(null,arguments)}function Sh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ai(){this.s=this.s,this.o=this.o}var jY={};Ai.prototype.s=!1,Ai.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function FY(t){return Object.prototype.hasOwnProperty.call(t,QE)&&t[QE]||(t[QE]=++LY)}(this);delete jY[t]}},Ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gR=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function mR(t){return Array.prototype.concat.apply([],arguments)}function YE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xh(t){return/^[\s\xa0]*$/.test(t)}var rn,yR=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nn(t,e){return-1!=t.indexOf(e)}function JE(t,e){return t<e?-1:t>e?1:0}e:{var _R=H.navigator;if(_R){var vR=_R.userAgent;if(vR){rn=vR;break e}}rn=""}function XE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function wR(t){const e={};for(const n in t)e[n]=t[n];return e}var ER="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IR(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<ER.length;s++)n=ER[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ZE(t){return ZE[" "](t),t}ZE[" "]=Ah;var Mh,t,GY=nn(rn,"Opera"),na=nn(rn,"Trident")||nn(rn,"MSIE"),bR=nn(rn,"Edge"),eI=bR||na,DR=nn(rn,"Gecko")&&!(nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge"))&&!(nn(rn,"Trident")||nn(rn,"MSIE"))&&!nn(rn,"Edge"),qY=nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge");function CR(){var t=H.document;return t?t.documentMode:void 0}e:{var tI="",nI=(t=rn,DR?/rv:([^\);]+)(\)|;)/.exec(t):bR?/Edge\/([\d\.]+)/.exec(t):na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):qY?/WebKit\/(\S+)/.exec(t):GY?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(nI&&(tI=nI?nI[1]:""),na){var rI=CR();if(null!=rI&&rI>parseFloat(tI)){Mh=String(rI);break e}}Mh=tI}var WY={};var KY=H.document&&na&&(CR()||parseInt(Mh,10))||void 0,QY=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",Ah,e),H.removeEventListener("test",Ah,e)}catch(n){}return t}();function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function il(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DR){e:{try{ZE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:YY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&il.Z.h.call(this)}}Ht.prototype.h=function(){this.defaultPrevented=!0},Mt(il,Ht);var YY={2:"touch",3:"pen",4:"mouse"};il.prototype.h=function(){il.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sl="closure_listenable_"+(1e6*Math.random()|0),JY=0;function XY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++JY,this.ca=this.fa=!1}function kh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Nh(t){this.src=t,this.g={},this.h=0}function sI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=pR(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function oI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Nh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=oI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new XY(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var aI="closure_lm_"+(1e6*Math.random()|0),uI={};function AR(t,e,n,r,i){if(r&&r.once)return xR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AR(t,e[s],n,r,i);return null}return n=hI(n),t&&t[sl]?t.N(e,n,rl(r)?!!r.capture:!!r,i):SR(t,e,n,!1,r,i)}function SR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=rl(i)?!!i.capture:!!i,a=cI(t);if(a||(t[aI]=a=new Nh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function ZY(){var e=eJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)QY||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kR(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xR(t,e[s],n,r,i);return null}return n=hI(n),t&&t[sl]?t.O(e,n,rl(r)?!!r.capture:!!r,i):SR(t,e,n,!0,r,i)}function MR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)MR(t,e[s],n,r,i);else r=rl(r)?!!r.capture:!!r,n=hI(n),t&&t[sl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=oI(s=t.g[e],n,r,i))&&(kh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=cI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=oI(e,n,r,i)),(n=-1<t?e[t]:null)&&lI(n))}function lI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[sl])sI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cI(e))?(sI(n,t),0==n.h&&(n.src=null,e[aI]=null)):kh(t)}}}function kR(t){return t in uI?uI[t]:uI[t]="on"+t}function eJ(t,e){if(t.ca)t=!0;else{e=new il(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&lI(t),t=n.call(r,e)}return t}function cI(t){return(t=t[aI])instanceof Nh?t:null}var dI="__closure_events_fn_"+(1e9*Math.random()>>>0);function hI(t){return"function"==typeof t?t:(t[dI]||(t[dI]=function(e){return t.handleEvent(e)}),t[dI])}function vt(){Ai.call(this),this.i=new Nh(this),this.P=this,this.I=null}function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;IR(e=new Ht(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rh(o,r,!0,e)&&i}if(i=Rh(o=e.g=t,r,!0,e)&&i,i=Rh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Rh(o=e.g=n[s],r,!1,e)&&i}function Rh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&sI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mt(vt,Ai),vt.prototype[sl]=!0,vt.prototype.removeEventListener=function(t,e,n,r){MR(this,t,e,n,r)},vt.prototype.M=function(){if(vt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kh(n[r]);delete t.g[e],t.h--}}this.I=null},vt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var fI=H.JSON.stringify;function tJ(){var t=RR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var gI,NR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new rJ,t=>t.reset());class rJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iJ(t){H.setTimeout(()=>{throw t},0)}function pI(t,e){gI||function sJ(){var t=H.Promise.resolve(void 0);gI=function(){t.then(oJ)}}(),mI||(gI(),mI=!0),RR.add(t,e)}var mI=!1,RR=new class nJ{constructor(){this.h=this.g=null}add(e,n){const r=NR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function oJ(){for(var t;t=tJ();){try{t.h.call(t.g)}catch(n){iJ(n)}var e=NR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mI=!1}function Ph(t,e){vt.call(this),this.h=t||1,this.g=e||H,this.j=xt(this.kb,this),this.l=Date.now()}function yI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function _I(t,e,n){if("function"==typeof t)n&&(t=xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function PR(t){t.g=_I(()=>{t.g=null,t.i&&(t.i=!1,PR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mt(Ph,vt),(N=Ph.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(yI(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){Ph.Z.M.call(this),yI(this),delete this.g};class aJ extends Ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PR(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(t){Ai.call(this),this.h=t,this.g={}}Mt(ol,Ai);var OR=[];function FR(t,e,n,r){Array.isArray(n)||(n&&(OR[0]=n.toString()),n=OR);for(var i=0;i<n.length;i++){var s=AR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LR(t){XE(t.g,function(e,n){this.g.hasOwnProperty(n)&&lI(e)},t),t.g={}}function Oh(){this.g=!0}function ra(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ol.prototype.M=function(){ol.Z.M.call(this),LR(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oh.prototype.Aa=function(){this.g=!1},Oh.prototype.info=function(){};var ws={},VR=null;function Fh(){return VR=VR||new vt}function UR(t){Ht.call(this,ws.Ma,t)}function al(t){const e=Fh();kt(e,new UR(e,t))}function BR(t,e){Ht.call(this,ws.STAT_EVENT,t),this.stat=e}function sn(t){const e=Fh();kt(e,new BR(e,t))}function jR(t,e){Ht.call(this,ws.Na,t),this.size=e}function ul(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}ws.Ma="serverreachability",Mt(UR,Ht),ws.STAT_EVENT="statevent",Mt(BR,Ht),ws.Na="timingevent",Mt(jR,Ht);var Lh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$R={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vI(){}function GR(){}vI.prototype.h=null;var II,ll={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wI(){Ht.call(this,"d")}function EI(){Ht.call(this,"c")}function Vh(){}function cl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ol(this),this.P=hJ,this.W=new Ph(t=eI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qR}function qR(){this.i=null,this.g="",this.h=!1}Mt(wI,Ht),Mt(EI,Ht),Mt(Vh,vI),Vh.prototype.g=function(){return new XMLHttpRequest},Vh.prototype.i=function(){return{}},II=new Vh;var hJ=45e3,bI={},Uh={};function DI(t,e,n){t.K=1,t.v=Gh(si(e)),t.s=n,t.U=!0,WR(t,null)}function WR(t,e){t.F=Date.now(),dl(t),t.A=si(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),tP(n.h,"t",r),t.C=0,n=t.l.H,t.h=new qR,t.g=DP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new aJ(xt(t.Ia,t,t.g),t.O)),FR(t.V,t.g,"readystatechange",t.gb),e=t.H?wR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),al(1),function uJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function zR(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function KR(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=fJ(t,n),i==Uh){4==e&&(t.o=4,sn(14),r=!1),ra(t.j,t.m,null,"[Incomplete Response]");break}if(i==bI){t.o=4,sn(15),ra(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ra(t.j,t.m,i,null),CI(t,i)}zR(t)&&i!=Uh&&i!=bI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),FI(e),e.L=!0,sn(11))):(ra(t.j,t.m,n,"[Invalid Chunked Response]"),Es(t),hl(t))}function fJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Uh:(n=Number(e.substring(n,r)),isNaN(n)?bI:(r+=1)+n>e.length?Uh:(e=e.substr(r,n),t.C=r+n,e))}function dl(t){t.Y=Date.now()+t.P,QR(t,t.P)}function QR(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ul(xt(t.eb,t),e)}function Bh(t){t.B&&(H.clearTimeout(t.B),t.B=null)}function hl(t){0==t.l.G||t.I||wP(t.l,t)}function Es(t){Bh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,yI(t.W),LR(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function CI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||SI(n.i,t)))if(n.I=t.N,!t.J&&SI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ul(xt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Yh(n),Kh(n)}OI(n),sn(18)}if(1>=iP(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else Ds(n,11)}else if((t.J||n.g==t)&&Yh(n),!xh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const c=l[3];null!=c&&(n.ma=c,n.h.info("VER="+n.ma));const d=l[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(nn(p,"spdy")||nn(p,"quic")||nn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(xI(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Ne(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=bP(r,r.H?r.la:null,r.W),o.J){sP(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Bh(a),dl(a)),r.g=o}else _P(r);0<n.l.length&&Qh(n)}else"stop"!=l[0]&&"close"!=l[0]||Ds(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ds(n,7):RI(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}al(4)}catch(l){}}function TI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(KE(t)||"string"==typeof t)gR(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(KE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function pJ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(KE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ia(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ia)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function AI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Is(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Is(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Is(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=cl.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;const e=this.L;e&&3==oi(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)e:{const c=oi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||eI||this.g&&(this.h.h||this.g.ga()||fP(this.g)))){this.I||4!=c||7==e||al(8==e||0>=d?3:2),Bh(this);var n=this.g.ba();this.N=n;t:if(zR(this)){var r=fP(this.g);t="";var i=r.length,s=4==oi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Es(this),hl(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function lJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xh(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,sn(12),Es(this),hl(this);break e}ra(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,CI(this,n)}this.U?(KR(this,c,o),eI&&this.i&&3==c&&(FR(this.V,this.W,"tick",this.fb),this.W.start())):(ra(this.j,this.m,o,null),CI(this,o)),4==c&&Es(this),this.i&&!this.I&&(4==c?wP(this.l,this):(this.i=!1,dl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Es(this),hl(this)}}}catch(c){}},N.fb=function(){if(this.g){var t=oi(this.g),e=this.g.ga();this.C<e.length&&(Bh(this),KR(this,t,e),this.i&&4!=t&&dl(this))}},N.cancel=function(){this.I=!0,Es(this)},N.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function cJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(al(3),sn(17)),Es(this),this.o=2,hl(this)):QR(this,this.Y-t)},(N=ia.prototype).R=function(){AI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return AI(this),this.g.concat()},N.get=function(t,e){return Is(this.h,t)?this.h[t]:e},N.set=function(t,e){Is(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var YR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bs(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof bs){this.g=void 0!==e?e:t.g,jh(this,t.j),this.s=t.s,$h(this,t.i),Hh(this,t.m),this.l=t.l,e=t.h;var n=new gl;n.i=e.i,e.g&&(n.g=new ia(e.g),n.h=e.h),JR(this,n),this.o=t.o}else t&&(n=String(t).match(YR))?(this.g=!!e,jh(this,n[1]||"",!0),this.s=fl(n[2]||""),$h(this,n[3]||"",!0),Hh(this,n[4]),this.l=fl(n[5]||"",!0),JR(this,n[6]||"",!0),this.o=fl(n[7]||"")):(this.g=!!e,this.h=new gl(null,this.g))}function si(t){return new bs(t)}function jh(t,e,n){t.j=n?fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $h(t,e,n){t.i=n?fl(e,!0):e}function Hh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function JR(t,e,n){e instanceof gl?(t.h=e,function bJ(t,e){e&&!t.j&&(Si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ZR(this,r),tP(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=pl(e,EJ)),t.h=new gl(e,t.g))}function Ne(t,e,n){t.h.set(e,n)}function Gh(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_J),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _J(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pl(e,XR,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(pl(e,XR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(pl(n,"/"==n.charAt(0)?wJ:vJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pl(n,IJ)),t.join("")};var XR=/[#\/\?@]/g,vJ=/[#\?:]/g,wJ=/[#\?]/g,EJ=/[#\?@]/g,IJ=/#/g;function gl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Si(t){t.g||(t.g=new ia,t.h=0,t.i&&function gJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ZR(t,e){Si(t),e=sa(t,e),Is(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Is((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&AI(t)))}function eP(t,e){return Si(t),e=sa(t,e),Is(t.g.h,e)}function tP(t,e,n){ZR(t,e),0<n.length&&(t.i=null,t.g.set(sa(t,e),YE(n)),t.h+=n.length)}function sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nP(t){this.l=t||CJ,t=H.PerformanceNavigationTiming?0<(t=H.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=gl.prototype).add=function(t,e){Si(this),this.i=null,t=sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Si(this),this.g.forEach(function(n,r){gR(n,function(i){t.call(e,i,r,this)},this)},this)},N.T=function(){Si(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},N.R=function(t){Si(this);var e=[];if("string"==typeof t)eP(this,t)&&(e=mR(e,this.g.get(sa(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=mR(e,t[n])}return e},N.set=function(t,e){return Si(this),this.i=null,eP(this,t=sa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var CJ=10;function rP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function iP(t){return t.h?1:t.g?t.g.size:0}function SI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function xI(t,e){t.g?t.g.add(e):t.h=e}function sP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function oP(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return YE(t.i)}function MI(){}function TJ(){this.g=new MI}function AJ(t,e,n){const r=n||"";try{TI(t,function(i,s){let o=i;rl(i)&&(o=fI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function ml(t){this.l=t.$b||null,this.j=t.ib||!1}function Wh(t,e){vt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=kI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nP.prototype.cancel=function(){if(this.i=oP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},MI.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)},MI.prototype.parse=function(t){return H.JSON.parse(t,void 0)},Mt(ml,vI),ml.prototype.g=function(){return new Wh(this.l,this.j)},ml.prototype.i=function(t){return function(){return t}}({}),Mt(Wh,vt);var kI=0;function aP(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function yl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_l(t)}function _l(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Wh.prototype).open=function(t,e){if(this.readyState!=kI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_l(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yl(this)),this.readyState=kI},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==H.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aP(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yl(this):_l(this),3==this.readyState&&aP(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,yl(this))},N.Ta=function(t){this.g&&(this.response=t,yl(this))},N.ha=function(){this.g&&yl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xJ=H.JSON.parse;function Je(t){vt.call(this),this.headers=new ia,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uP,this.K=this.L=!1}Mt(Je,vt);var uP="",MJ=/^https?$/i,kJ=["POST","PUT"];function RJ(t){return"content-type"==t.toLowerCase()}function lP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,cP(t),zh(t)}function cP(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}function dP(t){if(t.h&&void 0!==zE&&(!t.C[1]||4!=oi(t)||2!=t.ba()))if(t.v&&4==oi(t))_I(t.Fa,0,t);else if(kt(t,"readystatechange"),4==oi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(YR)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!MJ.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var o=2<oi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",cP(t)}}finally{zh(t)}}}function zh(t,e){if(t.g){hP(t);const n=t.g,r=t.C[0]?Ah:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function hP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function oi(t){return t.g?t.g.readyState:0}function fP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case uP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function NI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function PJ(t){let e="";return XE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pP(t){this.za=0,this.l=[],this.h=new Oh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vl("baseRetryDelayMs",5e3,t),this.$a=vl("retryDelaySeedMs",1e4,t),this.Ya=vl("forwardChannelMaxRetries",2,t),this.ra=vl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new nP(t&&t.concurrentRequestLimit),this.Ca=new TJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function RI(t){if(gP(t),3==t.G){var e=t.V++,n=si(t.F);Ne(n,"SID",t.J),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),wl(t,n),(e=new cl(t,t.h,e,void 0)).K=2,e.v=Gh(si(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&((new Image).src=e.v,n=!0),n||(e.g=DP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dl(e)}IP(t)}function Kh(t){t.g&&(FI(t),t.g.cancel(),t.g=null)}function gP(t){Kh(t),t.u&&(H.clearTimeout(t.u),t.u=null),Yh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&H.clearTimeout(t.m),t.m=null)}function PI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Qh(t)}function Qh(t){rP(t.i)||t.m||(t.m=!0,pI(t.Ha,t),t.C=0)}function mP(t,e){var n;n=e?e.m:t.V++;const r=si(t.F);Ne(r,"SID",t.J),Ne(r,"RID",n),Ne(r,"AID",t.U),wl(t,r),t.o&&t.s&&NI(r,t.o,t.s),n=new cl(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=yP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),xI(t.i,n),DI(n,r,e)}function wl(t,e){t.j&&TI({},function(n,r){Ne(e,r,n)})}function yP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?xt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{AJ(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function _P(t){t.g||t.u||(t.Y=1,pI(t.Ga,t),t.A=0)}function OI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ul(xt(t.Ga,t),EP(t,t.A)),t.A++,0))}function FI(t){null!=t.B&&(H.clearTimeout(t.B),t.B=null)}function vP(t){t.g=new cl(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=si(t.oa);Ne(e,"RID","rpc"),Ne(e,"SID",t.J),Ne(e,"CI",t.N?"0":"1"),Ne(e,"AID",t.U),wl(t,e),Ne(e,"TYPE","xmlhttp"),t.o&&t.s&&NI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Gh(si(e)),n.s=null,n.U=!0,WR(n,t)}function Yh(t){null!=t.v&&(H.clearTimeout(t.v),t.v=null)}function wP(t,e){var n=null;if(t.g==e){Yh(t),FI(t),t.g=null;var r=2}else{if(!SI(t.i,e))return;n=e.D,sP(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;kt(r=Fh(),new jR(r,n,e,i)),Qh(t)}else _P(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function OJ(t,e){return!(iP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ul(xt(t.Ha,t,e),EP(t,t.C)),t.C++,0)))}(t,e)||2==r&&OI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ds(t,5);break;case 4:Ds(t,10);break;case 3:Ds(t,6);break;default:Ds(t,2)}}function EP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ds(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=xt(t.jb,t);n||(n=new bs("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||jh(n,"https"),Gh(n)),function SJ(t,e){const n=new Oh;if(H.Image){const r=new Image;r.onload=Sh(qh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sh(qh,n,r,"TestLoadImage: error",!1,e),r.onabort=Sh(qh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sh(qh,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.G=0,t.j&&t.j.va(e),IP(t),gP(t)}function IP(t){t.G=0,t.I=-1,t.j&&((0!=oP(t.i).length||0!=t.l.length)&&(t.i.i.length=0,YE(t.l),t.l.length=0),t.j.ua())}function bP(t,e,n){let r=function mJ(t){return t instanceof bs?si(t):new bs(t,void 0)}(n);if(""!=r.i)e&&$h(r,e+"."+r.i),Hh(r,r.m);else{const i=H.location;r=function yJ(t,e,n,r){var i=new bs(null,void 0);return t&&jh(i,t),e&&$h(i,e),n&&Hh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&XE(t.aa,function(i,s){Ne(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ne(r,e,n),Ne(r,"VER",t.ma),wl(t,r),r}function DP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ba&&!t.qa?new ml({ib:!0}):t.qa)).L=t.H,e}function CP(){}function Jh(){if(na&&!(10<=Number(KY)))throw Error("Environmental error: no available transport.")}function Mn(t,e){vt.call(this),this.g=new pP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!xh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new oa(this)}function TP(t){wI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function AP(){EI.call(this),this.status=1}function oa(t){this.g=t}(N=Je.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():II.g(),this.C=function HR(t){return t.h||(t.h=t.i())}(this.u?this.u:II),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void lP(this,s)}t=n||"";const i=new ia(this.headers);r&&TI(r,function(s,o){i.set(o,s)}),r=function $Y(t){e:{var e=RJ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=H.FormData&&t instanceof H.FormData,!(0<=pR(kJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hP(this),0<this.B&&((this.K=function NJ(t){return na&&function zY(){return function HY(t){var e=WY;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=yR(String(Mh)).split("."),n=yR("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=JE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||JE(0==i[2].length,0==s[2].length)||JE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=_I(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lP(this,s)}},N.pa=function(){void 0!==zE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),zh(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zh(this,!0)),Je.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?dP(this):this.cb())},N.cb=function(){dP(this)},N.ba=function(){try{return 2<oi(this)?this.g.status:-1}catch(t){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xJ(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=pP.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new cl(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=wR(s),IR(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yP(this,i,e),Ne(n=si(this.F),"RID",t),Ne(n,"CVER",22),this.D&&Ne(n,"X-HTTP-Session-Id",this.D),wl(this,n),this.o&&s&&NI(n,this.o,s),xI(this.i,i),this.Ra&&Ne(n,"TYPE","init"),this.ja?(Ne(n,"$req",e),Ne(n,"SID","null"),i.$=!0,DI(i,n,null)):DI(i,n,e),this.G=2}}else 3==this.G&&(t?mP(this,t):0==this.l.length||rP(this.i)||mP(this))},N.Ga=function(){if(this.u=null,vP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ul(xt(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sn(10),Kh(this),vP(this))},N.ab=function(){null!=this.v&&(this.v=null,Kh(this),OI(this),sn(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),sn(2)):(this.h.info("Failed to ping google.com"),sn(1))},(N=CP.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},Jh.prototype.g=function(t,e){return new Mn(t,e)},Mt(Mn,vt),Mn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),pI(xt(t.hb,t,e))),sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=bP(t,null,t.W),Qh(t)},Mn.prototype.close=function(){RI(this.g)},Mn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,PI(this.g,e)}else this.v?((e={}).__data__=fI(t),PI(this.g,e)):PI(this.g,t)},Mn.prototype.M=function(){this.g.j=null,delete this.j,RI(this.g),delete this.g,Mn.Z.M.call(this)},Mt(TP,wI),Mt(AP,EI),Mt(oa,CP),oa.prototype.xa=function(){kt(this.g,"a")},oa.prototype.wa=function(t){kt(this.g,new TP(t))},oa.prototype.va=function(t){kt(this.g,new AP(t))},oa.prototype.ua=function(){kt(this.g,"b")},Jh.prototype.createWebChannel=Jh.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Lh.NO_ERROR=0,Lh.TIMEOUT=8,Lh.HTTP_ERROR=6,$R.COMPLETE="complete",GR.EventType=ll,ll.OPEN="a",ll.CLOSE="b",ll.ERROR="c",ll.MESSAGE="d",vt.prototype.listen=vt.prototype.N,Je.prototype.listenOnce=Je.prototype.O,Je.prototype.getLastError=Je.prototype.La,Je.prototype.getLastErrorCode=Je.prototype.Da,Je.prototype.getStatus=Je.prototype.ba,Je.prototype.getResponseJson=Je.prototype.Qa,Je.prototype.getResponseText=Je.prototype.ga,Je.prototype.send=Je.prototype.ea;var FJ=ii.createWebChannelTransport=function(){return new Jh},LJ=ii.getStatEventTarget=function(){return Fh()},LI=ii.ErrorCode=Lh,VJ=ii.EventType=$R,UJ=ii.Event=ws,SP=ii.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},BJ=ii.FetchXmlHttpFactory=ml,Xh=ii.WebChannel=GR,jJ=ii.XhrIo=Je;const xP="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let aa="9.8.0";const xi=new Ko("@firebase/firestore");function VI(){return xi.logLevel}function C(t,...e){if(xi.logLevel<=ce.DEBUG){const n=e.map(UI);xi.debug(`Firestore (${aa}): ${t}`,...n)}}function Xe(t,...e){if(xi.logLevel<=ce.ERROR){const n=e.map(UI);xi.error(`Firestore (${aa}): ${t}`,...n)}}function Zh(t,...e){if(xi.logLevel<=ce.WARN){const n=e.map(UI);xi.warn(`Firestore (${aa}): ${t}`,...n)}}function UI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function j(t,e){t||R()}function x(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class MP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $J{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class GJ{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new MP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Nt(e)}}class qJ{constructor(e,n,r){this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class WJ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new qJ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.p=n.token,new kP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class kn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function KJ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}kn.A=-1;class NP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=KJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Ze(0,0))}static max(){return new V(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function PP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class El{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===El.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends El{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const QJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends El{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return QJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}class la{constructor(e){this.fields=e,e.sort(Et.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new lt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const YJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(j(!!t),"string"==typeof t){let e=0;const n=YJ.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ts(t){return"string"==typeof t?lt.fromBase64String(t):lt.fromUint8Array(t)}function BI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function FP(t){const e=t.mapValue.fields.__previous_value__;return BI(e)?FP(e):e}function Il(t){const e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}class JJ{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ki{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ki("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ki&&e.projectId===this.projectId&&e.database===this.database}}function bl(t){return null==t}function Dl(t){return 0===t&&1/t==-1/0}class S{constructor(e){this.path=e}static fromPath(e){return new S(de.fromString(e))}static fromName(e){return new S(de.fromString(e).popFirst(5))}static empty(){return new S(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new de(e.slice()))}}const Ni_mapValue={fields:{__type__:{stringValue:"__max__"}}};function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BI(t)?4:jP(t)?9007199254740991:10:R()}function Ar(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Mi(r.timestampValue),o=Mi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ts(t.bytesValue).isEqual(Ts(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Be(r.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(r.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Be(r.integerValue)===Be(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Be(r.doubleValue),o=Be(i.doubleValue);return s===o?Dl(s)===Dl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(PP(s)!==PP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ar(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function Cl(t,e){return void 0!==(t.values||[]).find(n=>Ar(n,e))}function Ri(t,e){if(t===e)return 0;const n=As(t),r=As(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Be(i.integerValue||i.doubleValue),a=Be(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return VP(t.timestampValue,e.timestampValue);case 4:return VP(Il(t),Il(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ts(i),a=Ts(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=K(o[u],a[u]);if(0!==l)return l}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Be(i.latitude),Be(s.latitude));return 0!==o?o:K(Be(i.longitude),Be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Ri(o[u],a[u]);if(l)return l}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ni_mapValue&&s===Ni_mapValue)return 0;if(i===Ni_mapValue)return 1;if(s===Ni_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=K(a[c],l[c]);if(0!==d)return d;const h=Ri(o[a[c]],u[l[c]]);if(0!==h)return h}return K(a.length,l.length)}(t.mapValue,e.mapValue);default:throw R()}}function VP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=Mi(t),r=Mi(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function ca(t){return jI(t)}function jI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Mi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ts(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jI(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function $I(t){return!!t&&"integerValue"in t}function Tl(t){return!!t&&"arrayValue"in t}function UP(t){return!!t&&"nullValue"in t}function BP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tf(t){return!!t&&"mapValue"in t}function Al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jP(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Al(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(Al(this.value))}}function GP(t){const e=[];return Cs(t.fields,(n,r)=>{const i=new Et([n]);if(tf(r)){const s=GP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new la(e)}class Ae{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ae(e,0,V.min(),V.min(),Gt.empty(),0)}static newFoundDocument(e,n,r){return new Ae(e,1,n,V.min(),r,0)}static newNoDocument(e,n){return new Ae(e,2,n,V.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Ae(e,3,n,V.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ae(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function eX(t){return new ar(t.readTime,t.key,-1)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(V.min(),S.empty(),-1)}static max(){return new ar(V.max(),S.empty(),-1)}}function WP(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}class Ge{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Rt.RED,this.left=null!=i?i:Rt.EMPTY,this.right=null!=s?s:Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1,Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Te{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zP(this.data.getIterator())}getIteratorFrom(e){return new zP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Te)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Te(this.comparator);return n.data=e,n}}class zP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class tX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function KP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tX(t,e,n,r,i,s,o)}function Ms(t){const e=x(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ca(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ca(r)).join(",")),e.P=n}return e.P}function xl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!cX(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Ar(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZP(t.startAt,e.startAt)&&ZP(t.endAt,e.endAt)}function of(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Pt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new rX(e,n,r):"array-contains"===n?new oX(e,r):"in"===n?new aX(e,r):"not-in"===n?new uX(e,r):"array-contains-any"===n?new lX(e,r):new Pt(e,n,r)}static V(e,n,r){return"in"===n?new iX(e,r):new sX(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Ri(n,this.value)):null!==n&&As(this.value)===As(n)&&this.v(Ri(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rX extends Pt{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.v(n)}}class iX extends Pt{constructor(e,n){super(e,"in",n),this.keys=JP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sX extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=JP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class oX extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tl(n)&&Cl(n.arrayValue,this.value)}}class aX extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Cl(this.value.arrayValue,n)}}class uX extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Cl(this.value.arrayValue,n)}}class lX extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cl(this.value.arrayValue,r))}}class Pi{constructor(e,n){this.position=e,this.inclusive=n}}class ha{constructor(e,n="asc"){this.field=e,this.dir=n}}function cX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function XP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):Ri(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ZP(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}class ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function fa(t){return new ai(t)}function pa(t){const e=x(t);if(null===e.D){e.D=[];const n=function qI(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function GI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new ha(n)),e.D.push(new ha(Et.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ha(Et.keyField(),s))}}}return e.D}function qn(t){const e=x(t);if(!e.C)if("F"===e.limitType)e.C=KP(e.path,e.collectionGroup,pa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of pa(e))n.push(new ha(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Pi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pi(e.startAt.position,e.startAt.inclusive):null;e.C=KP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Ml(t,e){return xl(qn(t),qn(e))&&t.limitType===e.limitType}function nO(t){return`${Ms(qn(t))}|lt:${t.limitType}`}function zI(t){return`Query(target=${function nX(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ca(r.value)}`;var r}).join(", ")}]`),bl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ca(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ca(n)).join(",")),`Target(${e})`}(qn(t))}; limitType=${t.limitType})`}function KI(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=XP(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,pa(n),r)||n.endAt&&!function(i,s,o){const a=XP(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,pa(n),r)));var n,r}function iO(t){return(e,n)=>{let r=!1;for(const i of pa(t)){const s=hX(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function hX(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ri(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function sO(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(e)?"-0":e}}function oO(t){return{integerValue:""+t}}function aO(t,e){return function LP(t){return"number"==typeof t&&Number.isInteger(t)&&!Dl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?oO(e):sO(t,e)}class uf{constructor(){this._=void 0}}function fX(t,e,n){return t instanceof ga?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ks?lO(t,e):t instanceof Ns?cO(t,e):function(r,i){const s=uO(r,i),o=dO(s)+dO(r.k);return $I(s)&&$I(r.k)?oO(o):sO(r.M,o)}(t,e)}function pX(t,e,n){return t instanceof ks?lO(t,e):t instanceof Ns?cO(t,e):n}function uO(t,e){return t instanceof ma?$I(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ga extends uf{}class ks extends uf{constructor(e){super(),this.elements=e}}function lO(t,e){const n=hO(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ns extends uf{constructor(e){super(),this.elements=e}}function cO(t,e){let n=hO(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class ma extends uf{constructor(e,n){super(),this.M=e,this.k=n}}function dO(t){return Be(t.integerValue||t.doubleValue)}function hO(t){return Tl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class mX{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class cf{}function yX(t,e,n){t instanceof Nl?function(r,i,s){const o=r.value.clone(),a=mO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(r,i,s){if(!lf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=mO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(gO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function QI(t,e,n){var i;t instanceof Nl?function(r,i,s){if(!lf(r.precondition,i))return;const o=r.value.clone(),a=yO(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(pO(i),o).setHasLocalMutations()}(t,e,n):t instanceof Rs?function(r,i,s){if(!lf(r.precondition,i))return;const o=yO(r.fieldTransforms,s,i),a=i.data;a.setAll(gO(r)),a.setAll(o),i.convertToFoundDocument(pO(i),a).setHasLocalMutations()}(t,e,n):lf(t.precondition,i=e)&&i.convertToNoDocument(V.min())}function _X(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uO(r.transform,i||null);null!=s&&(null==n&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function fO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ua(n,r,(i,s)=>function gX(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ks&&r instanceof ks||n instanceof Ns&&r instanceof Ns?ua(n.elements,r.elements,Ar):n instanceof ma&&r instanceof ma?Ar(n.k,r.k):n instanceof ga&&r instanceof ga);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function pO(t){return t.isFoundDocument()?t.version:V.min()}class Nl extends cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Rs extends cf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function gO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mO(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pX(o,a,n[i]))}return r}function yO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fX(s,o,e))}return r}class Rl extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class YI extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class vX{constructor(e){this.count=e}}var tt,he;function _O(t){switch(t){default:return R();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function vO(t){if(void 0===t)return Xe("GRPC error has no .code"),v.UNKNOWN;switch(t){case tt.OK:return v.OK;case tt.CANCELLED:return v.CANCELLED;case tt.UNKNOWN:return v.UNKNOWN;case tt.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case tt.INTERNAL:return v.INTERNAL;case tt.UNAVAILABLE:return v.UNAVAILABLE;case tt.UNAUTHENTICATED:return v.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case tt.NOT_FOUND:return v.NOT_FOUND;case tt.ALREADY_EXISTS:return v.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return v.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case tt.ABORTED:return v.ABORTED;case tt.OUT_OF_RANGE:return v.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return v.UNIMPLEMENTED;case tt.DATA_LOSS:return v.DATA_LOSS;default:return R()}}(he=tt||(tt={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OP(this.inner)}size(){return this.innerSize}}const wX=new Ge(S.comparator);function Wn(){return wX}const EX=new Ge(S.comparator);function JI(...t){let e=EX;for(const n of t)e=e.insert(n.key,n);return e}function Pl(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const IX=new Ge(S.comparator),bX=new Te(S.comparator);function pe(...t){let e=bX;for(const n of t)e=e.add(n);return e}const DX=new Te(K);function df(){return DX}class Ol{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ol(V.min(),r,df(),Wn(),pe())}}class Fl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Fl(lt.EMPTY_BYTE_STRING,n,pe(),pe(),pe())}}class hf{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class wO{constructor(e,n){this.targetId=e,this.$=n}}class EO{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IO{constructor(){this.B=0,this.L=DO(),this.U=lt.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=pe(),n=pe(),r=pe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new Fl(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=DO()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class CX{constructor(e){this.nt=e,this.st=new Map,this.it=Wn(),this.rt=bO(),this.ot=new Te(K)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(of(s))if(0===r){const o=new S(s.path);this.ct(n,o,Ae.newNoDocument(o,V.min()))}else j(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&of(a.target)){const u=new S(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,Ae.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=pe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Ol(e,n,this.ot,this.it,r);return this.it=Wn(),this.rt=bO(),this.ot=new Te(K),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new IO,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Te(K),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new IO),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function bO(){return new Ge(S.comparator)}function DO(){return new Ge(S.comparator)}const TX={asc:"ASCENDING",desc:"DESCENDING"},AX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class SX{constructor(e,n){this.databaseId=e,this.N=n}}function Ll(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CO(t,e){return t.N?e.toBase64():e.toUint8Array()}function xX(t,e){return Ll(t,e.toTimestamp())}function It(t){return j(!!t),V.fromTimestamp(function(e){const n=Mi(e);return new Ze(n.seconds,n.nanos)}(t))}function XI(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function TO(t){const e=de.fromString(t);return j(OO(e)),e}function Vl(t,e){return XI(t.databaseId,e.path)}function Sr(t,e){const n=TO(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(SO(n))}function ZI(t,e){return XI(t.databaseId,e)}function Ul(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SO(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xO(t,e,n){return{name:Vl(t,e),fields:n.value.mapValue.fields}}function kO(t,e){return{documents:[ZI(t,e.path)]}}function NO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ZI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ZI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(BP(d.value))return{unaryFilter:{field:ya(d.field),op:"IS_NAN"}};if(UP(d.value))return{unaryFilter:{field:ya(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(BP(d.value))return{unaryFilter:{field:ya(d.field),op:"IS_NOT_NAN"}};if(UP(d.value))return{unaryFilter:{field:ya(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(d.field),op:OX(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:ya((c=l).field),direction:PX(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(l=e.limit,t.N||bl(l)?l:{value:l});var l,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function RO(t){let e=function AO(t){const e=TO(t);return 4===e.length?de.emptyPath():SO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=PO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>{return new ha(_a((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,bl(d)?null:d}(n.limit));let u=null;var c;n.startAt&&(u=new Pi((c=n.startAt).values||[],!!c.before));let l=null;return n.endAt&&(l=function(c){return new Pi(c.values||[],!c.before)}(n.endAt)),function eO(t,e,n,r,i,s,o,a){return new ai(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function PO(t){return t?void 0!==t.unaryFilter?[LX(t)]:void 0!==t.fieldFilter?[FX(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>PO(e)).reduce((e,n)=>e.concat(n)):R():[]}function PX(t){return TX[t]}function OX(t){return AX[t]}function ya(t){return{fieldPath:t.canonicalString()}}function _a(t){return Et.fromServerFormat(t.fieldPath)}function FX(t){return Pt.create(_a(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(t.fieldFilter.op),t.fieldFilter.value)}function LX(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_a(t.unaryFilter.field);return Pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=_a(t.unaryFilter.field);return Pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_a(t.unaryFilter.field);return Pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_a(t.unaryFilter.field);return Pt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function VX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const jO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Ps(t){return"IndexedDbTransactionError"===t.name}class nb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yX(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&QI(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&QI(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,r)=>fO(n,r))&&ua(this.baseMutations,e.baseMutations,(n,r)=>fO(n,r))}}class rb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=IX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rb(e,n,r,i)}}class ib{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fi{constructor(e,n,r,i,s=V.min(),o=V.min(),a=lt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class GO{constructor(e){this.Jt=e}}function sb(t){const e=RO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function tO(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Vs{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Be(e.integerValue));else if("doubleValue"in e){const r=Be(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),Dl(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Ts(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?jP(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):R()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),S.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}Vs.fe=new Vs;class fZ{constructor(){this.qe=new ub}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(ar.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class ub{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Te(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Te(de.comparator)).toArray()}}new Uint8Array(0);class yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class js{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new js(0)}static yn(){return new js(-1)}}function $s(t){return cb.apply(this,arguments)}function cb(){return cb=m(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==jO)throw t;C("LocalStore","Unexpectedly lost primary lease")}),cb.apply(this,arguments)}class DZ{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function WI(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new S(n)).next(r=>{let i=JI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=JI();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=n,c=a.child(i),new ai(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.zs(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let l=i.get(u);null==l&&(l=Ae.newInvalidDocument(u),i=i.insert(u,l)),QI(a,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{KI(n,o)||(i=i.remove(s))}),i))}}class pb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pb(e,n.fromCache,r,i)}}class lF{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return w.resolve(null)}ei(e,n,r,i){return function dX(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(V.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(VI()<=ce.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zI(n)),this.ri(e,o,n,function qP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Ze(n+1,0):new Ze(n,r));return new ar(i,S.empty(),e)}(i,-1)))})}si(e,n){let r=new Te(iO(e));return n.forEach((i,s)=>{KI(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return VI()<=ce.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",zI(n)),this.Zs.Qs(e,n,ar.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class CZ{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new Ge(K),this.ai=new Oi(s=>Ms(s),xl),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new DZ(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function dF(t,e){return gb.apply(this,arguments)}function gb(){return gb=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=pe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.fi.Ks(r,u).next(l=>({di:l,removedBatchIds:o,addedBatchIds:a}))})})}),gb.apply(this,arguments)}function TZ(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function hF(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function AZ(t,e){const n=x(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(n.fs.removeMatchingKeys(s,l.removedDocuments,c).next(()=>n.fs.addMatchingKeys(s,l.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(c)?h=h.withResumeToken(lt.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(c,h),p=h,g=l,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=Wn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function fF(t,e,n){let r=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Wn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(V.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):C("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(l=>{u=l})),!r.isEqual(V.min())){const l=n.fs.getLastRemoteSnapshotVersion(s).next(c=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,u)).next(()=>u)}).then(s=>(n.ui=i,s))}function SZ(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Ia(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new Fi(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}function ba(t,e,n){return mb.apply(this,arguments)}function mb(){return mb=m(function*(t,e,n){const r=x(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ps(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),mb.apply(this,arguments)}function If(t,e,n){const r=x(t);let i=V.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=x(a),d=c.ai.get(l);return void 0!==d?w.resolve(c.ui.get(d)):c.fs.getTargetData(u,l)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.oi.Qs(o,e,n?i:V.min(),n?s:pe())).next(a=>(function mF(t,e,n){let r=V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}(r,function rO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,_i:s})))}class kZ{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return w.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:It(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(r=n).name,query:sb(r.bundledQuery),readTime:It(r.readTime)}),w.resolve();var r}}class NZ{constructor(){this.overlays=new Ge(S.comparator),this.Ii=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Pl(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=Pl(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Pl(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ib(n,r));let s=this.Ii.get(n);void 0===s&&(s=pe(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}class vb{constructor(){this.Ti=new Te(Dt.Ei),this.Ai=new Te(Dt.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new Dt(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new S(new de([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new S(new de([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=pe();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.Ti.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return S.comparator(e.key,n.key)||K(e.Ci,n.Ci)}static Ri(e,n){return K(e.Ci,n.Ci)||S.comparator(e.key,n.key)}}class RZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Te(Dt.Ei)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++;const o=new nb(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Mi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Te(K);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),w.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new S(s),0);let a=new Te(K);return this.Ni.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Ci)),!0)},o),w.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let r=this.Ni;return w.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new Dt(n,0),i=this.Ni.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class PZ{constructor(e){this.$i=e,this.docs=new Ge(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ae.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ae.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Wn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||WP(eX(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){R()}Bi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OZ(this)}getSize(e){return w.resolve(this.size)}}class OZ extends class wZ{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ae.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class FZ{constructor(e){this.persistence=e,this.Li=new Oi(n=>Ms(n),xl),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ui=0,this.qi=new vb,this.targetCount=0,this.Ki=js.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),w.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new js(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.qi.containsKey(n))}}class LZ{constructor(e,n){this.Gi={},this.overlays={},this.es=new kn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new FZ(this),this.indexManager=new fZ,this.ds=new PZ(r=>this.referenceDelegate.Qi(r)),this.M=new GO(n),this._s=new kZ(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new RZ(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new VZ(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return w.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class VZ extends class rZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Hi=new vb,this.Ji=null}static Yi(e){return new wb(e)}get Xi(){if(this.Ji)return this.Ji;throw R()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),w.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Xi,r=>{const i=S.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return w.or([()=>w.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class bb{constructor(){this.activeTargetIds=df()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vF{constructor(){this.Ur=new bb,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new bb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UZ{Kr(e){}shutdown(){}}class wF{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const BZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class jZ{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class $Z extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);C("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(C("RestConnection","Received: ",u),u),u=>{throw Zh("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+aa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.uo}/v1/${n}:${BZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new jJ;a.listenOnce(VJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case LI.NO_ERROR:const l=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(l)),s(l);break;case LI.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case LI.HTTP_ERROR:const c=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=FJ(),o=LJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new BJ({})),this.lo(a.initMessageHeaders,n,r),Sk()||xk()||function p8(){return Sn().indexOf("Electron/")>=0}()||function g8(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function m8(){return Sn().indexOf("MSAppHost/")>=0}()||zd()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");C("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new jZ({Jr:p=>{d?C("Connection","Not sending because WebChannel is closed:",p):(c||(C("Connection","Opening WebChannel transport."),l.open(),c=!0),C("Connection","WebChannel sending:",p),l.send(p))},Yr:()=>l.close()}),f=(p,g,_)=>{p.listen(g,E=>{try{_(E)}catch(y){setTimeout(()=>{throw y},0)}})};return f(l,Xh.EventType.OPEN,()=>{d||C("Connection","WebChannel transport opened.")}),f(l,Xh.EventType.CLOSE,()=>{d||(d=!0,C("Connection","WebChannel transport closed"),h.ro())}),f(l,Xh.EventType.ERROR,p=>{d||(d=!0,Zh("Connection","WebChannel transport errored:",p),h.ro(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(l,Xh.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];j(!!_);const E=_,y=E.error||(null===(g=E[0])||void 0===g?void 0:g.error);if(y){C("Connection","WebChannel received error:",y);const T=y.status;let P=function(Z){const Se=tt[Z];if(void 0!==Se)return vO(Se)}(T),O=y.message;void 0===P&&(P=v.INTERNAL,O="Unknown error status: "+T+" with message "+y.message),d=!0,h.ro(new D(P,O)),l.close()}else C("Connection","WebChannel received:",_),h.oo(_)}}),f(o,UJ.STAT_EVENT,p=>{p.stat===SP.PROXY?C("Connection","Detected buffering proxy"):p.stat===SP.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function Cf(){return"undefined"!=typeof document?document:null}function Ql(t){return new SX(t,!0)}class Cb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class IF{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Cb(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return m(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return m(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro(m(function*(){e.state=0,e.start()}))}jo(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HZ extends IF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function kX(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,l){return u.N?(j(void 0===l||"string"==typeof l),lt.fromBase64String(l||"")):(j(void 0===l||l instanceof Uint8Array),lt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?v.UNKNOWN:vO(u.code);return new D(l,u.message||"")}(o);n=new EO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sr(t,r.document.name),s=It(r.document.updateTime),o=new Gt({mapValue:{fields:r.document.fields}}),a=Ae.newFoundDocument(i,s,o);n=new hf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Sr(t,r.document),s=r.readTime?It(r.readTime):V.min(),o=Ae.newNoDocument(i,s);n=new hf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Sr(t,r.document);n=new hf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,s=new vX(r.count||0);n=new wO(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?It(s.readTime):V.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Ul(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=of(a)?{documents:kO(i,a)}:{query:NO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=CO(i,s.resumeToken):s.snapshotVersion.compareTo(V.min())>0&&(o.readTime=Ll(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function RX(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Ul(this.M),n.removeTarget=e,this.Lo(n)}}class GZ extends IF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function NX(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=It(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=It(i)),new mX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.tu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ul(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Bl(t,e){let n;if(e instanceof Nl)n={update:xO(t,e.key,e.value)};else if(e instanceof Rl)n={delete:Vl(t,e.key)};else if(e instanceof Rs)n={update:xO(t,e.key,e.data),updateMask:VX(e.fieldMask)};else{if(!(e instanceof YI))return R();n={verify:Vl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ga)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ns)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ma)return{fieldPath:s.field.canonicalString(),increment:o.k};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xX(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.M,r))};this.Lo(n)}}class qZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class WZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Xe(n),this.uu=!1):C("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class zZ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(a=>{r.enqueueAndForget(m(function*(){var u;Ui(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=x(l);c.wu.add(4),yield Da(c),c.yu.set("Unknown"),c.wu.delete(4),yield Yl(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.yu=new WZ(r,i)}}function Yl(t){return Tb.apply(this,arguments)}function Tb(){return Tb=m(function*(t){if(Ui(t))for(const e of t.mu)yield e(!0)}),Tb.apply(this,arguments)}function Da(t){return Ab.apply(this,arguments)}function Ab(){return Ab=m(function*(t){for(const e of t.mu)yield e(!1)}),Ab.apply(this,arguments)}function Tf(t,e){const n=x(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Mb(n)?xb(n):Ta(n).Mo()&&Sb(n,e))}function Jl(t,e){const n=x(t),r=Ta(n);n._u.delete(e),r.Mo()&&bF(n,e),0===n._u.size&&(r.Mo()?r.$o():Ui(n)&&n.yu.set("Unknown"))}function Sb(t,e){t.pu.Z(e.targetId),Ta(t).Ho(e)}function bF(t,e){t.pu.Z(e),Ta(t).Jo(e)}function xb(t){t.pu=new CX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),Ta(t).start(),t.yu.au()}function Mb(t){return Ui(t)&&!Ta(t).ko()&&t._u.size>0}function Ui(t){return 0===x(t).wu.size}function DF(t){t.pu=void 0}function KZ(t){return kb.apply(this,arguments)}function kb(){return kb=m(function*(t){t._u.forEach((e,n)=>{Sb(t,e)})}),kb.apply(this,arguments)}function QZ(t,e){return Nb.apply(this,arguments)}function Nb(){return Nb=m(function*(t,e){DF(t),Mb(t)?(t.yu.lu(e),xb(t)):t.yu.set("Unknown")}),Nb.apply(this,arguments)}function YZ(t,e,n){return Rb.apply(this,arguments)}function Rb(){return Rb=m(function*(t,e,n){if(t.yu.set("Online"),e instanceof EO&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Af(t,r)}else if(e instanceof hf?t.pu.ut(e):e instanceof wO?t.pu._t(e):t.pu.ht(e),!n.isEqual(V.min()))try{const r=yield hF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i._u.get(u);l&&i._u.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(lt.EMPTY_BYTE_STRING,u.snapshotVersion)),bF(i,a);const l=new Fi(u.target,a,1,u.sequenceNumber);Sb(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Af(t,r)}var r}),Rb.apply(this,arguments)}function Af(t,e,n){return Pb.apply(this,arguments)}function Pb(){return Pb=m(function*(t,e,n){if(!Ps(e))throw e;t.wu.add(1),yield Da(t),t.yu.set("Offline"),n||(n=()=>hF(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield Yl(t)}))}),Pb.apply(this,arguments)}function CF(t,e){return e().catch(n=>Af(t,n,e))}function Ca(t){return Ob.apply(this,arguments)}function Ob(){return Ob=m(function*(t){const e=x(t),n=Bi(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;JZ(e);)try{const i=yield SZ(e.localStore,r);if(null===i){0===e.du.length&&n.$o();break}r=i.batchId,XZ(e,i)}catch(i){yield Af(e,i)}TF(e)&&AF(e)}),Ob.apply(this,arguments)}function JZ(t){return Ui(t)&&t.du.length<10}function XZ(t,e){t.du.push(e);const n=Bi(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function TF(t){return Ui(t)&&!Bi(t).ko()&&t.du.length>0}function AF(t){Bi(t).start()}function ZZ(t){return Fb.apply(this,arguments)}function Fb(){return Fb=m(function*(t){Bi(t).nu()}),Fb.apply(this,arguments)}function eee(t){return Lb.apply(this,arguments)}function Lb(){return Lb=m(function*(t){const e=Bi(t);for(const n of t.du)e.Zo(n.mutations)}),Lb.apply(this,arguments)}function tee(t,e,n){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(t,e,n){const r=t.du.shift(),i=rb.from(r,e,n);yield CF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ca(t)}),Vb.apply(this,arguments)}function nee(t,e){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t,e){var n;e&&Bi(t).Xo&&(yield(n=m(function*(r,i){if(_O(s=i.code)&&s!==v.ABORTED){const o=r.du.shift();Bi(r).Fo(),yield CF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ca(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),TF(t)&&AF(t)}),Ub.apply(this,arguments)}function SF(t,e){return Bb.apply(this,arguments)}function Bb(){return Bb=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Ui(n);n.wu.add(3),yield Da(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Yl(n)}),Bb.apply(this,arguments)}function $b(){return $b=m(function*(t,e){const n=x(t);e?(n.wu.delete(2),yield Yl(n)):e||(n.wu.add(2),yield Da(n),n.yu.set("Unknown"))}),$b.apply(this,arguments)}function Ta(t){return t.Iu||(t.Iu=function(e,n,r){const i=x(e);return i.iu(),new HZ(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:KZ.bind(null,t),eo:QZ.bind(null,t),zo:YZ.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Iu.Fo(),Mb(t)?xb(t):t.yu.set("Unknown")):(yield t.Iu.stop(),DF(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}function Bi(t){return t.Tu||(t.Tu=function(e,n,r){const i=x(e);return i.iu(),new GZ(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:ZZ.bind(null,t),eo:nee.bind(null,t),eu:eee.bind(null,t),tu:tee.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Tu.Fo(),yield Ca(t)):(yield t.Tu.stop(),t.du.length>0&&(C("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class Hb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Hb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Aa(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),Ps(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=JI(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Sa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class xF{constructor(){this.Eu=new Ge(S.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):R():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class xa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new xa(e,n,Sa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ree{constructor(){this.Ru=void 0,this.listeners=[]}}class iee{constructor(){this.queries=new Oi(e=>nO(e),Ml),this.onlineState="Unknown",this.bu=new Set}}function qb(){return qb=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ree),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Aa(o,`Initialization of query '${zI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&Kb(n)}),qb.apply(this,arguments)}function zb(){return zb=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),zb.apply(this,arguments)}function see(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&Kb(n)}function oee(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Kb(t){t.bu.forEach(e=>{e.next()})}class Qb{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class NF{constructor(e){this.key=e}}class RF{constructor(e){this.key=e}}class PF{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=pe(),this.mutatedKeys=pe(),this.Gu=iO(e),this.Qu=new Sa(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new xF,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=KI(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Gu(f,u)>0||l&&this.Gu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new xa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xF,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=pe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new RF(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new NF(r))}),n}ta(e){this.Uu=e._i,this.Ku=pe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return xa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class lee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cee{constructor(e){this.key=e,this.na=!1}}class dee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Oi(a=>nO(a),Ml),this.ra=new Map,this.oa=new Set,this.ua=new Ge(S.comparator),this.aa=new Map,this.ca=new vb,this.ha={},this.la=new Map,this.fa=js.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function hee(t,e){return Yb.apply(this,arguments)}function Yb(){return Yb=m(function*(t,e){const n=vD(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield Ia(n.localStore,qn(e));n.isPrimaryClient&&Tf(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Jb(n,e,r,"current"===a)}return i}),Yb.apply(this,arguments)}function Jb(t,e,n,r){return Xb.apply(this,arguments)}function Xb(){return Xb=m(function*(t,e,n,r){t._a=(c,d,h)=>{return(f=m(function*(p,g,_,E){let y=g.view.Wu(_);y.ii&&(y=yield If(p.localStore,g.query,!1).then(({documents:O})=>g.view.Wu(O,y)));const T=E&&E.targetChanges.get(g.targetId),P=g.view.applyChanges(y,p.isPrimaryClient,T);return uD(p,g.targetId,P.Xu),P.snapshot}),function(p,g,_,E){return f.apply(this,arguments)})(t,c,d,h);var f};const i=yield If(t.localStore,e,!0),s=new PF(e,i._i),o=s.Wu(i.documents),a=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);uD(t,n,u.Xu);const l=new lee(e,n,s);return t.ia.set(e,l),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),u.snapshot}),Xb.apply(this,arguments)}function fee(t,e){return Zb.apply(this,arguments)}function Zb(){return Zb=m(function*(t,e){const n=x(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!Ml(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ba(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Jl(n.remoteStore,r.targetId),Ma(n,r.targetId)}).catch($s))):(Ma(n,r.targetId),yield ba(n.localStore,r.targetId,!0))}),Zb.apply(this,arguments)}function eD(){return eD=m(function*(t,e,n){const r=wD(t);try{const i=yield function(s,o){const a=x(s),u=Ze.now(),l=o.reduce((d,h)=>d.add(h.key),pe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.fi.Ks(d,l).next(h=>{c=h;const f=[];for(const p of o){const g=_X(p,c.get(p.key));null!=g&&f.push(new Rs(p.key,g,GP(g.value.mapValue),et.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ha[s.currentUser.toKey()];u||(u=new Ge(K)),u=u.insert(o,a),s.ha[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ui(r,i.changes),yield Ca(r.remoteStore)}catch(i){const s=Aa(i,"Failed to persist write");n.reject(s)}}),eD.apply(this,arguments)}function OF(t,e){return tD.apply(this,arguments)}function tD(){return tD=m(function*(t,e){const n=x(t);try{const r=yield AZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?j(o.na):i.removedDocuments.size>0&&(j(o.na),o.na=!1))}),yield ui(n,r,e)}catch(r){yield $s(r)}}),tD.apply(this,arguments)}function FF(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Pu(o)&&(u=!0)}),u&&Kb(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gee(t,e,n){return nD.apply(this,arguments)}function nD(){return nD=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new Ge(S.comparator);o=o.insert(s,Ae.newNoDocument(s,V.min()));const a=pe().add(s),u=new Ol(V.min(),new Map,new Te(K),o,a);yield OF(r,u),r.ua=r.ua.remove(s),r.aa.delete(e),lD(r)}else yield ba(r.localStore,e,!1).then(()=>Ma(r,e,n)).catch($s)}),nD.apply(this,arguments)}function mee(t,e){return rD.apply(this,arguments)}function rD(){return rD=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield TZ(n.localStore,e);aD(n,r,null),oD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ui(n,i)}catch(i){yield $s(i)}}),rD.apply(this,arguments)}function yee(t,e,n){return iD.apply(this,arguments)}function iD(){return iD=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.Bs.lookupMutationBatch(u,o).next(c=>(j(null!==c),l=c.keys(),a.Bs.removeMutationBatch(u,c))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.fi.Ks(u,l))})}(r.localStore,e);aD(r,e,n),oD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ui(r,i)}catch(i){yield $s(i)}}),iD.apply(this,arguments)}function oD(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function aD(t,e,n){const r=x(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Ma(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||LF(t,r)})}function LF(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);null!==n&&(Jl(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),lD(t))}function uD(t,e,n){for(const r of n)r instanceof NF?(t.ca.addReference(r.key,e),vee(t,r)):r instanceof RF?(C("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||LF(t,r.key)):R()}function vee(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(C("SyncEngine","New document in limbo: "+n),t.oa.add(r),lD(t))}function lD(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new S(de.fromString(e)),r=t.fa.next();t.aa.set(r,new cee(n)),t.ua=t.ua.insert(n,r),Tf(t.remoteStore,new Fi(qn(fa(n.path)),r,2,kn.A))}}function ui(t,e,n){return cD.apply(this,arguments)}function cD(){return cD=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.ia.isEmpty()||(r.ia.forEach((a,u)=>{o.push(r._a(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=pb.Ys(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.sa.zo(i),yield(a=m(function*(u,l){const c=x(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Hs,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ps(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.ui=c.ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),cD.apply(this,arguments)}function wee(t,e){return dD.apply(this,arguments)}function dD(){return dD=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield dF(n.localStore,e);n.currentUser=e,(i=n).la.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ui(n,r.di)}var i}),dD.apply(this,arguments)}function Eee(t,e){const n=x(t),r=n.aa.get(e);if(r&&r.na)return pe().add(r.key);{let i=pe();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function vD(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gee.bind(null,e),e.sa.zo=see.bind(null,e.eventManager),e.sa.wa=oee.bind(null,e.eventManager),e}function wD(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yee.bind(null,e),e}class Mee{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.M=Ql(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return function cF(t,e,n,r){return new CZ(t,e,n,r)}(this.persistence,new lF,e.initialUser,this.M)}ya(e){return new LZ(wb.Yi,this.M)}ga(e){return new vF}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ED{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wee.bind(null,r.syncEngine),yield function jb(t,e){return $b.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iee}createDatastore(e){const n=Ql(e.databaseInfo.databaseId),r=new $Z(e.databaseInfo);return new qZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>FF(this.syncEngine,a,0),o=wF.vt()?new wF:new UZ,new zZ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new dee(r,i,s,o,a,u);return l&&(c.da=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=x(n);C("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Da(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Sf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Fee{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=NP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Aa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function jF(t,e){return ID.apply(this,arguments)}function ID(){return ID=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield dF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),ID.apply(this,arguments)}function $F(t,e){return bD.apply(this,arguments)}function bD(){return bD=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield DD(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>SF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>SF(e.remoteStore,s)),t.onlineComponents=e}),bD.apply(this,arguments)}function DD(t){return CD.apply(this,arguments)}function CD(){return CD=m(function*(t){return t.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),yield jF(t,new Mee)),t.offlineComponents}),CD.apply(this,arguments)}function xf(t){return TD.apply(this,arguments)}function TD(){return TD=m(function*(t){return t.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),yield $F(t,new ED)),t.onlineComponents}),TD.apply(this,arguments)}function ka(t){return xD.apply(this,arguments)}function xD(){return xD=m(function*(t){const e=yield xf(t),n=e.eventManager;return n.onListen=hee.bind(null,e.syncEngine),n.onUnlisten=fee.bind(null,e.syncEngine),n}),xD.apply(this,arguments)}const zF=new Map;function MD(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KF(t){if(!S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QF(t){if(S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mf(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class JF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function qee(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JF({}),this._settingsFrozen=!1,e instanceof ki?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ki(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new $J;switch(n.type){case"gapi":const r=n.client;return j(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new WJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zF.get(e);n&&(C("ComponentProvider","Removing Datastore"),zF.delete(e),n.terminate())}(this),Promise.resolve()}}class qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}}class qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Mr extends qt{constructor(e,n,r){super(e,n,fa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new S(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function Wee(t,e,...n){if(t=Hn(t),MD("collection","path",e),t instanceof Xl){const r=de.fromString(e,...n);return QF(r),new Mr(t,null,r)}{if(!(t instanceof qe||t instanceof Mr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return QF(r),new Mr(t.firestore,null,r)}}class Qee{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Cb(this,"async_queue_retry"),this.Qa=()=>{const n=Cf();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Cf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=Cf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new wt;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return m(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Ps(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=Hb.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&R()}verifyOperationInProgress(){}Ja(){var e=this;return m(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function kD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Xl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new Qee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||XF(this),this._firestoreClient.terminate()}}function Jee(t=Bk()){return Jd(t,"firestore").getImmediate()}function ct(t){return t._firestoreClient||XF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XF(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new JJ(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Fee(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Na{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gs(lt.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gs(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tL{constructor(e){this._methodName=e}}class ND{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const Xee=/^__.*__$/;class Zee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nl(e,this.data,n,this.fieldTransforms)}}function rL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class kf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Rf(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(rL(this.ec)&&Xee.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class ete{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||Ql(e)}lc(e,n,r,i=!1){return new kf({ec:e,methodName:n,hc:r,path:Et.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ra(t){const e=t._freezeSettings(),n=Ql(t._databaseId);return new ete(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RD(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);OD("Data must be an object, but it was:",o,r);const a=uL(r,o);let u,l;if(s.merge)u=new la(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=FD(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);cL(c,h)||c.push(h)}u=new la(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new Zee(new Gt(a),u,l)}function qs(t,e){if(lL(t=Hn(t)))return OD("Unsupported field value:",e,t),uL(t,e);if(t instanceof tL)return function(n,r){if(!rL(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qs(o,r.uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Hn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return aO(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ze.fromDate(n);return{timestampValue:Ll(r.M,i)}}if(n instanceof Ze){const i=new Ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ll(r.M,i)}}if(n instanceof ND)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gs)return{bytesValue:CO(r.M,n._byteString)};if(n instanceof qe){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:XI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${Mf(n)}`)}(t,e)}function uL(t,e){const n={};return OP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{const s=qs(i,e.sc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function lL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof ND||t instanceof Gs||t instanceof qe||t instanceof tL)}function OD(t,e,n){if(!lL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Mf(n);throw e.ac("an object"===r?t+" a custom object":t+" "+r)}var r}function FD(t,e,n){if((e=Hn(e))instanceof Na)return e._internalPath;if("string"==typeof e)return Nf(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const ite=new RegExp("[~\\*/\\[\\]]");function Nf(t,e,n){if(e.search(ite)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Na(...e.split("."))._internalPath}catch(r){throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function cL(t,e){return t.some(n=>n.isEqual(e))}class LD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ste(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ste extends LD{data(){return super.data()}}function Pf(t,e){return"string"==typeof e?Nf(t,e):e instanceof Na?e._internalPath:e._delegate._internalPath}class Ws{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends LD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Of extends Pa{data(e={}){return super.data(e)}}class Oa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Of(this._firestore,this._userDataWriter,r.key,r,new Ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Of(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Of(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:ote(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ote(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class zs extends class cte{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){const r={};return Cs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ND(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=FP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);j(OO(r));const i=new ki(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function hte(t,e){const n=fe(t.firestore,Re),r=function zee(t,e,...n){if(t=Hn(t),1===arguments.length&&(e=NP.R()),MD("doc","path",e),t instanceof Xl){const r=de.fromString(e,...n);return KF(r),new qe(t,null,new S(r))}{if(!(t instanceof qe||t instanceof Mr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return KF(r),new qe(t.firestore,t instanceof Mr?t.converter:null,new S(r))}}(t),i=function VD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function ec(t,e){return function(n,r){const i=new wt;return n.asyncQueue.enqueueAndForget(m(function*(){return function pee(t,e,n){return eD.apply(this,arguments)}(yield function SD(t){return xf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ct(t),e)}(n,[RD(Ra(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}!function(t,e=!0){aa="9.8.1",en(new $t("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Re(i,new GJ(n.getProvider("auth-internal")),new zJ(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),He(xP,"3.4.9",t),He(xP,"3.4.9","esm2017")}();var gte={includeMetadataChanges:!1};function BD(t,e){return void 0===e&&(e=gte),new Pe(function(n){var r=function fte(t,...e){var n,r,i;t=Hn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||kD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(kD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(t instanceof qe)l=fe(t.firestore,Re),c=fa(t._key.path),u={next:d=>{e[o]&&e[o](function UD(t,e,n){const r=n.docs.get(e._key),i=new zs(t);return new Pa(t,i,e._key,r,new Ws(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fe(t,qt);l=fe(d.firestore,Re),c=d._query;const h=new zs(l);u={next:f=>{e[o]&&e[o](new Oa(l,h,d,f))},error:e[o+1],complete:e[o+2]},function dL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Sf(p),_=new Qb(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function Gb(t,e){return qb.apply(this,arguments)}(yield ka(d),_)})),()=>{g.Aa(),d.asyncQueue.enqueueAndForget(m(function*(){return function Wb(t,e){return zb.apply(this,arguments)}(yield ka(d),_)}))}}(ct(l),c,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Ite(t,e){return void 0===e&&(e={}),function Ete(t){return BD(t,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}(t).pipe(ye(function(n){return n.map(function(r){return function wL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Lf{constructor(e){return e}}const DL="firestore",HD=new z("angularfire2.firestore-instances");function Cte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Lf(r)}}const Tte={provide:class bte{constructor(){return Nv(DL)}},deps:[[new mt,HD]]},Ate={provide:Lf,useFactory:function Dte(t,e){const n=function kv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(DL,t,e);return n&&new Lf(n)},deps:[[new mt,HD],Zo]};let Ste=(()=>{class t{constructor(){He("angularfire",bv.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:[Ate,Tte]}),t})();function xte(t,...e){return{ngModule:Ste,providers:[{provide:HD,useFactory:Cte(t),multi:!0,deps:[Ke,Bt,HN,GN,[new mt,G1],[new mt,fR],...e]}]}}const Mte=qu(Ite,!0),kte=qu(hte,!0),CL=qu(Wee,!0),Nte=qu(Jee,!0);function X(...t){return pt(t,qa(t))}class lr extends Pr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Rte}=Array,{getPrototypeOf:Pte,prototype:Ote,keys:Fte}=Object;function TL(t){if(1===t.length){const e=t[0];if(Rte(e))return{args:e,keys:null};if(function Lte(t){return t&&"object"==typeof t&&Pte(t)===Ote}(e)){const n=Fte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Vte}=Array;function AL(t){return ye(e=>function Ute(t,e){return Vte(e)?t(...e):t(e)}(t,e))}function SL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function xL(t,e,n){t?Or(n,t,e):e()}function Vf(t,e){const n=oe(t)?t:()=>t,r=i=>i.error(n());return new Pe(e?i=>e.schedule(r,0,i):r)}const Uf=dt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function GD(...t){return function $te(){return Ga(1)}()(pt(t,qa(t)))}function ML(t){return new Pe(e=>{dr(t()).subscribe(e)})}function kL(){return Ct((t,e)=>{let n=null;t._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Hte extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,JC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _n;const n=this.getSubject();e.add(this.source.subscribe(ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_n.EMPTY)}return e}refCount(){return kL()(this)}}function Ks(t,e){return Ct((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ht(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;dr(t(u,c)).subscribe(i=ht(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function qte(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ht(o,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function NL(t,e){return Ct(qte(t,e,arguments.length>=2,!0))}function Fa(t,e){return Ct((n,r)=>{let i=0;n.subscribe(ht(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ji(t){return Ct((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ht(n,void 0,void 0,o=>{s=dr(t(o,ji(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function tc(t,e){return oe(e)?ft(t,e,1):ft(t,1)}function qD(t){return t<=0?()=>Fr:Ct((e,n)=>{let r=[];e.subscribe(ht(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function RL(t=Wte){return Ct((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Wte(){return new Uf}function PL(t){return Ct((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function La(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fa((i,s)=>t(i,s,r)):Ki,Cc(1),n?PL(e):RL(()=>new Uf))}class li{constructor(e,n){this.id=e,this.url=n}}class WD extends li{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nc extends li{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class OL extends li{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qte extends li{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xte extends li{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ene extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class LL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tne{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rne{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ine{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class sne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Va(t){return new sne(t)}const UL="ngNavigationCancelingError";function zD(t){const e=Error("NavigationCancelingError: "+t);return e[UL]=!0,e}function ane(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!BL(t[i],e[i]))return!1;return!0}function BL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function jL(t){return Array.prototype.concat.apply([],t)}function $L(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Nr(t){return pm(t)?t:Iu(t)?pt(Promise.resolve(t)):X(t)}const cne={exact:function qL(t,e,n){if(!Ys(t.segments,e.segments)||!Bf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!qL(t.children[r],e.children[r],n))return!1;return!0},subset:WL},HL={exact:function dne(t,e){return kr(t,e)},subset:function hne(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>BL(t[n],e[n]))},ignored:()=>!0};function GL(t,e,n){return cne[n.paths](t.root,e.root,n.matrixParams)&&HL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function WL(t,e,n){return zL(t,e,e.segments,n)}function zL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ys(i,n)||e.hasChildren()||!Bf(i,n,r))}if(t.segments.length===n.length){if(!Ys(t.segments,n)||!Bf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!WL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ys(t.segments,i)&&Bf(t.segments,i,r)&&t.children[re])&&zL(t.children[re],e,s,r)}}function Bf(t,e,n){return e.every((r,i)=>HL[n](t[i].parameters,r.parameters))}class Qs{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return gne.serialize(this)}}class ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ot(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}}class rc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Va(this.parameters)),this._parameterMap}toString(){return XL(this)}}function Ys(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class KL{}class QL{parse(e){const n=new Dne(e);return new Qs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ic(e.root,!0)}`,r=function _ne(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${$f(n)}=${$f(i)}`).join("&"):`${$f(n)}=${$f(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function mne(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const gne=new QL;function jf(t){return t.segments.map(e=>XL(e)).join("/")}function ic(t,e){if(!t.hasChildren())return jf(t);if(e){const n=t.children[re]?ic(t.children[re],!1):"",r=[];return Ot(t.children,(i,s)=>{s!==re&&r.push(`${s}:${ic(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function pne(t,e){let n=[];return Ot(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Ot(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[ic(t.children[re],!1)]:[`${i}:${ic(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${jf(t)}/${n[0]}`:`${jf(t)}/(${n.join("//")})`}}function YL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $f(t){return YL(t).replace(/%3B/gi,";")}function KD(t){return YL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hf(t){return decodeURIComponent(t)}function JL(t){return Hf(t.replace(/\+/g,"%20"))}function XL(t){return`${KD(t.path)}${function yne(t){return Object.keys(t).map(e=>`;${KD(e)}=${KD(t[e])}`).join("")}(t.parameters)}`}const vne=/^[^\/()?;=#]+/;function Gf(t){const e=t.match(vne);return e?e[0]:""}const wne=/^[^=?&#]+/,Ine=/^[^&#]+/;class Dne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ae(e,n)),r}parseSegment(){const e=Gf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new rc(Hf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Gf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Gf(this.remaining);i&&(r=i,this.capture(r))}e[Hf(n)]=Hf(r)}parseQueryParam(e){const n=function Ene(t){const e=t.match(wne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function bne(t){const e=t.match(Ine);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=JL(n),s=JL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ZL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=QD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=QD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=YD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return YD(e,this._root).map(n=>n.value)}}function QD(t,e){if(t===e.value)return e;for(const n of e.children){const r=QD(t,n);if(r)return r}return null}function YD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=YD(t,n);if(r.length)return r.unshift(e),r}return[]}class ci{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ua(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class eV extends ZL{constructor(e,n){super(e),this.snapshot=n,JD(this,e)}toString(){return this.snapshot.toString()}}function tV(t,e){const n=function Cne(t,e){const o=new qf([],{},{},"",{},re,e,null,t.root,-1,{});return new rV("",new ci(o,[]))}(t,e),r=new lr([new rc("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new Ba(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new eV(new ci(u,[]),n)}class Ba{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>Va(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>Va(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Tne(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qf{constructor(e,n,r,i,s,o,a,u,l,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Va(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rV extends ZL{constructor(e,n){super(n),this.url=e,JD(this,n)}toString(){return iV(this._root)}}function JD(t,e){e.value._routerState=t,e.children.forEach(n=>JD(t,n))}function iV(t){const e=t.children.length>0?` { ${t.children.map(iV).join(", ")} } `:"";return`${t.value}${e}`}function XD(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kr(e.params,n.params)||t.params.next(n.params),function une(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ZD(t,e){const n=kr(t.params,e.params)&&function fne(t,e){return Ys(t,e)&&t.every((n,r)=>kr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ZD(t.parent,e.parent))}function sc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Sne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sc(t,r,i);return sc(t,r)})}(t,e,n);return new ci(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sc(t,a)),o}}const r=function xne(t){return new Ba(new lr(t.url),new lr(t.params),new lr(t.queryParams),new lr(t.fragment),new lr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>sc(t,s));return new ci(r,i)}}function Wf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function oc(t){return"object"==typeof t&&null!=t&&t.outlets}function eC(t,e,n,r,i){let s={};if(r&&Ot(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),t===e)return new Qs(n,s,i);const o=sV(t,e,n);return new Qs(o,s,i)}function sV(t,e,n){const r={};return Ot(t.children,(i,s)=>{r[s]=i===e?n:sV(i,e,n)}),new ae(t.segments,r)}class oV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(oc);if(i&&i!==$L(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tC{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function aV(t,e,n){if(t||(t=new ae([],{})),0===t.segments.length&&t.hasChildren())return zf(t,e,n);const r=function One(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(oc(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!lV(u,l,o))return s;r+=2}else{if(!lV(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new ae(t.segments.slice(r.pathIndex),t.children),zf(s,0,i)}return r.match&&0===i.length?new ae(t.segments,{}):r.match&&!t.hasChildren()?nC(t,e,n):r.match?zf(t,0,i):nC(t,e,n)}function zf(t,e,n){if(0===n.length)return new ae(t.segments,{});{const r=function Pne(t){return oc(t[0])?t[0].outlets:{[re]:t}}(n),i={};return Ot(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=aV(t.children[o],e,s))}),Ot(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ae(t.segments,i)}}function nC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(oc(s)){const u=Fne(s.outlets);return new ae(r,u)}if(0===i&&Wf(n[0])){r.push(new rc(t.segments[e].path,uV(n[0]))),i++;continue}const o=oc(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Wf(a)?(r.push(new rc(o,uV(a))),i+=2):(r.push(new rc(o,{})),i++)}return new ae(r,{})}function Fne(t){const e={};return Ot(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=nC(new ae([],{}),0,n))}),e}function uV(t){const e={};return Ot(t,(n,r)=>e[r]=`${n}`),e}function lV(t,e,n){return t==n.path&&kr(e,n.parameters)}class Vne{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),XD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ua(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ot(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ua(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ine(s.value.snapshot))}),e.children.length&&this.forwardEvent(new nne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(XD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),XD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function Une(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class rC{constructor(e,n){this.routes=e,this.module=n}}function $i(t){return"function"==typeof t}function Js(t){return t instanceof Qs}const ac=Symbol("INITIAL_VALUE");function uc(){return Ks(t=>function Bte(...t){const e=qa(t),n=hT(t),{args:r,keys:i}=TL(t);if(0===r.length)return pt([],e);const s=new Pe(function jte(t,e,n=Ki){return r=>{xL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)xL(e,()=>{const l=pt(t[u],e);let c=!1;l.subscribe(ht(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>SL(i,o):Ki));return n?s.pipe(AL(n)):s}(t.map(e=>e.pipe(Cc(1),function Gte(...t){const e=qa(t);return Ct((n,r)=>{(e?GD(t,n,e):GD(t,n)).subscribe(r)})}(ac)))).pipe(NL((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==ac?i:(s===ac&&(r=!0),r||!1!==s&&o!==n.length-1&&!Js(s)?i:s),e)},ac),Fa(e=>e!==ac),ye(e=>Js(e)?e:!0===e),Cc(1)))}class qne{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new lc,this.attachRef=null}}class lc{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new qne,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let iC=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.name=s||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new Wne(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(lc),b(rr),b(xu),function tu(t){return function NB(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(HT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(nt(),t)}("name"),b(Sd))},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class Wne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ba?this.route:e===lc?this.childContexts:this.parent.get(e,n)}}let cV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Hr(0,"router-outlet")},directives:[iC],encapsulation:2}),t})();function dV(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];zne(r,Kne(e,r))}}function zne(t,e){t.children&&dV(t.children,e)}function Kne(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function sC(t){const e=t.children&&t.children.map(sC),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=cV),n}function zn(t){return t.outlet||re}function hV(t,e){const n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}const fV={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kf(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},fV):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ane)(n,t,e);if(!s)return Object.assign({},fV);const o={};Ot(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Qf(t,e,n,r,i="corrected"){if(n.length>0&&function Jne(t,e,n){return n.some(r=>Yf(t,e,r)&&zn(r)!==re)}(t,n,r)){const o=new ae(e,function Yne(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&zn(s)!==re){const o=new ae([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[zn(s)]=o}return i}(t,e,r,new ae(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Xne(t,e,n){return n.some(r=>Yf(t,e,r))}(t,n,r)){const o=new ae(t.segments,function Qne(t,e,n,r,i,s){const o={};for(const a of r)if(Yf(t,n,a)&&!i[zn(a)]){const u=new ae([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[zn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ae(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Yf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function pV(t,e,n,r){return!!(zn(t)===r||r!==re&&Yf(e,n,t))&&("**"===t.path||Kf(e,t,n).matched)}function gV(t,e,n){return 0===e.length&&!t.children[n]}class Jf{constructor(e){this.segmentGroup=e||null}}class mV{constructor(e){this.urlTree=e}}function cc(t){return Vf(new Jf(t))}function yV(t){return Vf(new mV(t))}function Zne(t){return Vf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`))}class nre{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(qr)}apply(){const e=Qf(this.urlTree.root,[],[],this.config).segmentGroup,n=new ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,re).pipe(ye(s=>this.createUrlTree(oC(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ji(s=>{if(s instanceof mV)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Jf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(ye(i=>this.createUrlTree(oC(i),e.queryParams,e.fragment))).pipe(ji(i=>{throw i instanceof Jf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ae([],{[re]:e}):e;return new Qs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ye(s=>new ae([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pt(i).pipe(tc(s=>{const o=r.children[s],a=hV(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(u=>({segment:u,outlet:s})))}),NL((s,o)=>(s[o.outlet]=o.segment,s),{}),function zte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fa((i,s)=>t(i,s,r)):Ki,qD(1),n?PL(e):RL(()=>new Uf))}())}expandSegment(e,n,r,i,s,o){return pt(r).pipe(tc(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ji(l=>{if(l instanceof Jf)return X(null);throw l}))),La(a=>!!a),ji((a,u)=>{if(a instanceof Uf||"EmptyError"===a.name)return gV(n,i,s)?X(new ae([],{})):cc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return pV(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):cc(n):cc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yV(s):this.lineralizeSegments(r,s).pipe(ft(o=>{const a=new ae(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Kf(n,i,s);if(!a)return cc(n);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?yV(d):this.lineralizeSegments(i,d).pipe(ft(h=>this.expandSegment(e,n,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?X(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(d=>(r._loadedConfig=d,new ae(i,{})))):X(new ae(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Kf(n,r,i);return o?this.getChildConfig(e,r,i).pipe(ft(c=>{const d=c.module,h=c.routes,{segmentGroup:f,slicedSegments:p}=Qf(n,a,u,h),g=new ae(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ye(T=>new ae(a,T)));if(0===h.length&&0===p.length)return X(new ae(a,{}));const _=zn(r)===s;return this.expandSegment(d,g,h,p,_?re:s,!0).pipe(ye(y=>new ae(a.concat(y.segments),y.children)))})):cc(n)}getChildConfig(e,n,r){return n.children?X(new rC(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?X(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ft(i=>i?this.configLoader.load(e.injector,n).pipe(ye(s=>(n._loadedConfig=s,s))):function ere(t){return Vf(zD(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):X(new rC([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return X(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function jne(t){return t&&$i(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!$i(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Nr(u)});return X(s).pipe(uc(),pn(o=>{if(!Js(o))return;const a=zD(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ye(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[re])return Zne(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Qs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ot(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ot(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function oC(t){const e={};for(const r of Object.keys(t.children)){const s=oC(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function rre(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ae(t.segments.concat(e.segments),e.children)}return t}(new ae(t.segments,e))}class _V{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xf{constructor(e,n){this.component=e,this.route=n}}function sre(t,e,n){const r=t._root;return dc(r,e?e._root:null,n,[r.value])}function Zf(t,e,n){const r=function are(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function dc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ua(e);return t.children.forEach(o=>{(function ure(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function lre(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ys(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(t.url,e.url)||!kr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZD(t,e)||!kr(t.queryParams,e.queryParams);default:return!ZD(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _V(r)):(s.data=o.data,s._resolvedData=o._resolvedData),dc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xf(a.outlet.component,o))}else o&&hc(e,a,i),i.canActivateChecks.push(new _V(r)),dc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ot(s,(o,a)=>hc(o,n.getContext(a),i)),i}function hc(t,e,n){const r=Ua(t),i=t.value;Ot(r,(s,o)=>{hc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class _re{}function vV(t){return new Pe(e=>e.error(t))}class wre{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Qf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,re);if(null===n)return null;const r=new qf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ci(r,n),s=new rV(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=nV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=hV(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=wV(r);return function Ere(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return gV(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!pV(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?$L(r).parameters:{};s=new qf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bV(e),zn(e),e.component,e,EV(n),IV(n)+r.length,DV(e))}else{const f=Kf(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new qf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bV(e),zn(e),e.component,e,EV(n),IV(n)+o.length,DV(e))}const u=function Ire(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Qf(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new ci(s,f)]}if(0===u.length&&0===c.length)return[new ci(s,[])];const d=zn(e)===i,h=this.processSegment(u,l,c,d?re:i);return null===h?null:[new ci(s,h)]}}function bre(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wV(t){const e=[],n=new Set;for(const r of t){if(!bre(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=wV(r.children);e.push(new ci(r.value,i))}return e.filter(r=>!n.has(r))}function EV(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function IV(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function bV(t){return t.data||{}}function DV(t){return t.resolve||{}}function CV(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function aC(t){return Ks(e=>{const n=t(e);return n?pt(n).pipe(ye(()=>e)):X(e)})}class kre extends class Mre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const uC=new z("ROUTES");class TV{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new rC(jL(o.injector.get(uC,void 0,$.Self|$.Optional)).map(sC),o)}),ji(s=>{throw n._loader$=void 0,s}));return n._loader$=new Hte(i,()=>new Pr).pipe(kL()),n._loader$}loadModuleFactory(e){return Nr(e()).pipe(ft(n=>n instanceof Gx?X(n):pt(this.compiler.compileModuleAsync(n))))}}class Rre{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Pre(t){throw t}function Ore(t,e,n){return e.parse("/")}function AV(t,e){return X(null)}const Fre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pr,this.errorHandler=Pre,this.malformedUriErrorHandler=Ore,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AV,afterPreactivation:AV},this.urlHandlingStrategy=new Rre,this.routeReuseStrategy=new kre,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(qr),this.console=o.get(d3);const d=o.get(Ke);this.isNgZoneEnabled=d instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function lne(){return new Qs(new ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new TV(o,a,h=>this.triggerEvent(new FL(h)),h=>this.triggerEvent(new LL(h))),this.routerState=tV(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Fa(i=>0!==i.id),ye(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ks(i=>{let s=!1,o=!1;return X(i).pipe(pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ks(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return SV(a.source)&&(this.browserUrlTree=a.extractedUrl),X(a).pipe(Ks(d=>{const h=this.transitions.getValue();return r.next(new WD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Fr:Promise.resolve(d)}),function ire(t,e,n,r){return Ks(i=>function tre(t,e,n,r,i){return new nre(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ye(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function Dre(t,e,n,r,i){return ft(s=>function vre(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new wre(t,e,n,r,i,s).recognize();return null===o?vV(new _re):X(o)}catch(o){return vV(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ye(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),pn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Yte(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,E=new WD(h,this.serializeUrl(f),p,g);r.next(E);const y=tV(f,this.rootComponentType).snapshot;return X(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Fr}),aC(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pn(a=>{const u=new Jte(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ye(a=>Object.assign(Object.assign({},a),{guards:sre(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function cre(t,e){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?X(Object.assign(Object.assign({},n),{guardsResult:!0})):function dre(t,e,n,r){return pt(t).pipe(ft(i=>function yre(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const u=Zf(a,e,i);let l;if(function Gne(t){return t&&$i(t.canDeactivate)}(u))l=Nr(u.canDeactivate(t,e,n,r));else{if(!$i(u))throw new Error("Invalid CanDeactivate guard");l=Nr(u(t,e,n,r))}return l.pipe(La())})).pipe(uc()):X(!0)}(i.component,i.route,n,e,r)),La(i=>!0!==i,!0))}(o,r,i,t).pipe(ft(a=>a&&function Bne(t){return"boolean"==typeof t}(a)?function hre(t,e,n,r){return pt(e).pipe(tc(i=>GD(function pre(t,e){return null!==t&&e&&e(new tne(t)),X(!0)}(i.route.parent,r),function fre(t,e){return null!==t&&e&&e(new rne(t)),X(!0)}(i.route,r),function mre(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ore(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>ML(()=>X(o.guards.map(u=>{const l=Zf(u,o.node,n);let c;if(function Hne(t){return t&&$i(t.canActivateChild)}(l))c=Nr(l.canActivateChild(r,t));else{if(!$i(l))throw new Error("Invalid CanActivateChild guard");c=Nr(l(r,t))}return c.pipe(La())})).pipe(uc())));return X(s).pipe(uc())}(t,i.path,n),function gre(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>ML(()=>{const o=Zf(s,e,n);let a;if(function $ne(t){return t&&$i(t.canActivate)}(o))a=Nr(o.canActivate(e,t));else{if(!$i(o))throw new Error("Invalid CanActivate guard");a=Nr(o(e,t))}return a.pipe(La())}));return X(i).pipe(uc())}(t,i.route,n))),La(i=>!0!==i,!0))}(r,s,t,e):X(a)),ye(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),pn(a=>{if(Js(a.guardsResult)){const l=zD(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new Xte(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Fa(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),aC(a=>{if(a.guards.canActivateChecks.length)return X(a).pipe(pn(u=>{const l=new Zte(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Ks(u=>{let l=!1;return X(u).pipe(function Cre(t,e){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=0;return pt(i).pipe(tc(o=>function Tre(t,e,n,r){return function Are(t,e,n,r){const i=CV(t);if(0===i.length)return X({});const s={};return pt(i).pipe(ft(o=>function Sre(t,e,n,r){const i=Zf(t,e,r);return Nr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(pn(a=>{s[o]=a}))),qD(1),ft(()=>CV(s).length===i.length?X(s):Fr))}(t._resolve,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),nV(t,n).resolve),null)))}(o.route,r,t,e)),pn(()=>s++),qD(1),ft(o=>s===i.length?X(n):Fr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),pn(u=>{const l=new ene(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),aC(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ye(a=>{const u=function Ane(t,e,n){const r=sc(t,e._root,n?n._root:void 0);return new eV(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ye(r=>(new Vne(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),pn({next(){s=!0},complete(){s=!0}}),function Kte(t){return Ct((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ji(a=>{if(o=!0,function one(t){return t&&t[UL]}(a)){const u=Js(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new OL(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||SV(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new Qte(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Fr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){dV(n),this.config=n.map(sC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function Mne(t,e,n,r,i){if(0===n.length)return eC(e.root,e.root,e.root,r,i);const s=function kne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new oV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ot(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new oV(n,e,r)}(n);if(s.toRoot())return eC(e.root,e.root,new ae([],{}),r,i);const o=function Nne(t,e,n){if(t.isAbsolute)return new tC(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new tC(s,s===e.root,0)}const r=Wf(t.commands[0])?0:1;return function Rne(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new tC(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?zf(o.segmentGroup,o.index,s.commands):aV(o.segmentGroup,o.index,s.commands);return eC(e.root,o.segmentGroup,a,r,i)}(l,this.currentUrlTree,n,d,null!=c?c:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Js(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function Vre(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Fre):!1===r?Object.assign({},Lre):r,Js(n))return GL(this.currentUrlTree,n,i);const s=this.parseUrl(n);return GL(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new nc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let l,c,d;o?(l=o.resolve,c=o.reject,d=o.promise):d=new Promise((p,g)=>{l=p,c=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new OL(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){cm()},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function SV(t){return"imperative"!==t}let ep=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Pr,this.subscription=n.events.subscribe(s=>{s instanceof nc&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ja(this.skipLocationChange),replaceUrl:ja(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ja(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(Nn),b(Ba),b(zo))},t.\u0275dir=B({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&dn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&wr("target",r.target)("href",r.href,pg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[On]}),t})();function ja(t){return""===t||!!t}class xV{}class MV{preload(e,n){return X(null)}}let kV=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new TV(i,r,u=>n.triggerEvent(new FL(u)),u=>n.triggerEvent(new LL(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fa(n=>n instanceof nc),tc(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(qr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return pt(i).pipe(Ga(),ye(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?X(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ft(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(Nn),F(TM),F(Bt),F(xV))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),cC=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof WD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof nc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof VL&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new VL(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){cm()},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const Xs=new z("ROUTER_CONFIGURATION"),NV=new z("ROUTER_FORROOT_GUARD"),$re=[oy,{provide:KL,useClass:QL},{provide:Nn,useFactory:function zre(t,e,n,r,i,s,o={},a,u){const l=new Nn(null,t,e,n,r,i,jL(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function Kre(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[KL,lc,oy,Bt,TM,uC,Xs,[class Nre{},new mt],[class xre{},new mt]]},lc,{provide:Ba,useFactory:function Qre(t){return t.routerState.root},deps:[Nn]},kV,MV,class jre{preload(e,n){return n().pipe(ji(()=>X(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function Hre(){return new kM("Router",Nn)}let RV=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[$re,PV(n),{provide:NV,useFactory:Wre,deps:[[Nn,new mt,new uu]]},{provide:Xs,useValue:r||{}},{provide:zo,useFactory:qre,deps:[os,[new Yc(sy),new mt],Xs]},{provide:cC,useFactory:Gre,deps:[Nn,b4,Xs]},{provide:xV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:MV},{provide:kM,multi:!0,useFactory:Hre},[dC,{provide:Hm,multi:!0,useFactory:Yre,deps:[dC]},{provide:OV,useFactory:Jre,deps:[dC]},{provide:CM,multi:!0,useExisting:OV}]]}}static forChild(n){return{ngModule:t,providers:[PV(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(NV,8),F(Nn,8))},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();function Gre(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new cC(t,e,n)}function qre(t,e,n={}){return n.useHash?new rz(t,e):new YM(t,e)}function Wre(t){return"guarded"}function PV(t){return[{provide:LB,multi:!0,useValue:t},{provide:uC,multi:!0,useValue:t}]}let dC=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pr}appInitializer(){return this.injector.get(ez,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Nn),o=this.injector.get(Xs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?X(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Xs),i=this.injector.get(kV),s=this.injector.get(cC),o=this.injector.get(Nn),a=this.injector.get(Xm);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function Yre(t){return t.appInitializer.bind(t)}function Jre(t){return t.bootstrapListener.bind(t)}const OV=new z("Router Initializer");function Zre(t,e){if(1&t&&(te(0,"div",2)(1,"div",3)(2,"h2"),De(3),ne(),te(4,"h2"),De(5),ne()(),te(6,"div")(7,"div",3)(8,"p"),De(9),ne(),te(10,"p"),De(11),ne()(),te(12,"span"),De(13),ne(),te(14,"span"),De(15),ne()()()),2&t){const n=e.$implicit;pd("id","bk-",n.id,""),Me(3),ym(n.title),Me(2),Ei("#",n.id,""),Me(4),Ei("Author: ",n.auther,""),Me(2),Ei("Publish Date: ",n.publishdate,""),Me(2),Ei("Edition: ",n.edition," "),Me(2),Ei("Pages: ",n.pages," ")}}let eie=(()=>{class t{constructor(){this.books=[]}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["lib-books"]],inputs:{books:"books"},decls:2,vars:1,consts:[[1,"container"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"flex-space"]],template:function(n,r){1&n&&(te(0,"div",0),Jt(1,Zre,16,7,"div",1),ne()),2&n&&(Me(1),it("ngForOf",r.books))},directives:[ok],styles:[""]}),t})(),FV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gr),b(An))},t.\u0275dir=B({type:t}),t})(),Zs=(()=>{class t extends FV{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[me]}),t})();const Rr=new z("NgValueAccessor"),rie={provide:Rr,useExisting:Ie(()=>fc),multi:!0},sie=new z("CompositionEventMode");let fc=(()=>{class t extends FV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iie(){const t=br()?br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gr),b(An),b(sie,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&dn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ke([rie]),me]}),t})();function Hi(t){return null==t||0===t.length}function VV(t){return null!=t&&"number"==typeof t.length}const Wt=new z("NgValidators"),Gi=new z("NgAsyncValidators"),oie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $a{static min(e){return function UV(t){return e=>{if(Hi(e.value)||Hi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function BV(t){return e=>{if(Hi(e.value)||Hi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return jV(e)}static requiredTrue(e){return function $V(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function HV(t){return Hi(t.value)||oie.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function GV(t){return e=>Hi(e.value)||!VV(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function qV(t){return e=>VV(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return WV(e)}static nullValidator(e){return null}static compose(e){return XV(e)}static composeAsync(e){return ZV(e)}}function jV(t){return Hi(t.value)?{required:!0}:null}function WV(t){if(!t)return tp;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Hi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function tp(t){return null}function zV(t){return null!=t}function KV(t){const e=Iu(t)?pt(t):t;return pm(e),e}function QV(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function YV(t,e){return e.map(n=>n(t))}function JV(t){return t.map(e=>function aie(t){return!t.validate}(e)?e:n=>e.validate(n))}function XV(t){if(!t)return null;const e=t.filter(zV);return 0==e.length?null:function(n){return QV(YV(n,e))}}function hC(t){return null!=t?XV(JV(t)):null}function ZV(t){if(!t)return null;const e=t.filter(zV);return 0==e.length?null:function(n){return function tie(...t){const e=hT(t),{args:n,keys:r}=TL(t),i=new Pe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;dr(n[c]).subscribe(ht(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?SL(r,a):a),s.complete())}))}});return e?i.pipe(AL(e)):i}(YV(n,e).map(KV)).pipe(ye(QV))}}function fC(t){return null!=t?ZV(JV(t)):null}function eU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tU(t){return t._rawValidators}function nU(t){return t._rawAsyncValidators}function pC(t){return t?Array.isArray(t)?t:[t]:[]}function np(t,e){return Array.isArray(t)?t.includes(e):t===e}function rU(t,e){const n=pC(e);return pC(t).forEach(i=>{np(n,i)||n.push(i)}),n}function iU(t,e){return pC(e).filter(n=>!np(t,n))}class sU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class qi extends sU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends sU{get formDirective(){return null}get path(){return null}}class oU{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let gC=(()=>{class t extends oU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(qi,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&gd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[me]}),t})(),mC=(()=>{class t extends oU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(an,10))},t.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&gd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[me]}),t})();function ip(t,e){return[...e.path,t]}function pc(t,e){vC(t,e),e.valueAccessor.writeValue(t.value),function gie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uU(t,e)})}(t,e),function yie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function mie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function pie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function sp(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ap(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function op(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function vC(t,e){const n=tU(t);null!==e.validator?t.setValidators(eU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=nU(t);null!==e.asyncValidator?t.setAsyncValidators(eU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();op(e._rawValidators,i),op(e._rawAsyncValidators,i)}function ap(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=tU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=nU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return op(e._rawValidators,r),op(e._rawAsyncValidators,r),n}function uU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lU(t,e){vC(t,e)}function wC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function dU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===fc?n=s:function wie(t){return Object.getPrototypeOf(t.constructor)===Zs}(s)?r=s:i=s}),i||r||n||null}function IC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gc="VALID",up="INVALID",Ha="PENDING",mc="DISABLED";function DC(t){return(lp(t)?t.validators:t)||null}function hU(t){return Array.isArray(t)?hC(t):t||null}function CC(t,e){return(lp(e)?e.asyncValidators:t)||null}function fU(t){return Array.isArray(t)?fC(t):t||null}function lp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const pU=t=>t instanceof cp,TC=t=>t instanceof dp;function gU(t){return pU(t)?t.value:t.getRawValue()}function mU(t,e){const n=TC(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new ue(1e3,"");if(!r[e])throw new ue(1001,"")}function yU(t,e){TC(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new ue(1002,"")})}class AC{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=hU(this._rawValidators),this._composedAsyncValidatorFn=fU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gc}get invalid(){return this.status===up}get pending(){return this.status==Ha}get disabled(){return this.status===mc}get enabled(){return this.status!==mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=hU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=fU(e)}addValidators(e){this.setValidators(rU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iU(e,this._rawAsyncValidators))}hasValidator(e){return np(this._rawValidators,e)}hasAsyncValidator(e){return np(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ha,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=mc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=gc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gc||this.status===Ha)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mc:gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator=!0;const n=KV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function Eie(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=TC(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof bie)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?mc:this.errors?up:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(up)?up:gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class cp extends AC{constructor(e=null,n,r){super(DC(n),CC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lp(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class dp extends AC{constructor(e,n,r){super(DC(n),CC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){yU(this,e),Object.keys(e).forEach(r=>{mU(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=gU(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class bie extends AC{constructor(e,n,r){super(DC(n),CC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){yU(this,e),e.forEach((r,i)=>{mU(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>gU(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Die={provide:an,useExisting:Ie(()=>hp)},yc=(()=>Promise.resolve(null))();let hp=(()=>{class t extends an{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ue,this.form=new dp({},hC(n),fC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){yc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),pc(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){yc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){yc.then(()=>{const r=this._findContainer(n.path),i=new dp({});lU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){yc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){yc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,dU(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(Wt,10),b(Gi,10))},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&dn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ke([Die]),me]}),t})();const Tie={provide:qi,useExisting:Ie(()=>SC)},wU=(()=>Promise.resolve(null))();let SC=(()=>{class t extends qi{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new cp,this._registered=!1,this.update=new Ue,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EC(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),wC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){wU.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;wU.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?ip(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(an,9),b(Wt,10),b(Gi,10),b(Rr,10),b(Sd,8))},t.\u0275dir=B({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ke([Tie]),me,On]}),t})(),xC=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),IU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();const MC=new z("NgModelWithFormControlWarning"),Nie={provide:an,useExisting:Ie(()=>fp)};let fp=(()=>{class t extends an{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ue,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ap(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return pc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){sp(n.control||null,n,!1),IC(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,dU(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(sp(r||null,n),pU(i)&&(pc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);lU(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function _ie(t,e){return ap(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vC(this.form,this),this._oldForm&&ap(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(b(Wt,10),b(Gi,10))},t.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&dn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ke([Nie]),me,On]}),t})();const Oie={provide:qi,useExisting:Ie(()=>RC)};let RC=(()=>{class t extends qi{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ue,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EC(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),wC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ip(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(b(an,13),b(Wt,10),b(Gi,10),b(Rr,10),b(MC,8))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ke([Oie]),me,On]}),t})(),eo=(()=>{class t{constructor(){this._validator=tp}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):tp,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,features:[On]}),t})();const qie={provide:Wt,useExisting:Ie(()=>pp),multi:!0};let pp=(()=>{class t extends eo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n=>function $ie(t){return null!=t&&!1!==t&&"false"!=`${t}`}(n),this.createValidator=n=>jV}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&wr("required",r._enabled?"":null)},inputs:{required:"required"},features:[ke([qie]),me]}),t})();const Yie={provide:Wt,useExisting:Ie(()=>FC),multi:!0};let FC=(()=>{class t extends eo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>WV(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&wr("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[ke([Yie]),me]}),t})(),LU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[[IU]]}),t})(),Jie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[LU]}),t})(),Xie=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:MC,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[LU]}),t})();function Zie(t,e){1&t&&(te(0,"p",12),De(1," Email is required "),ne())}function ese(t,e){1&t&&(te(0,"p",12),De(1," Enter a valid email "),ne())}function tse(t,e){if(1&t&&(te(0,"div"),Jt(1,Zie,2,0,"p",11),Jt(2,ese,2,0,"p",11),ne()),2&t){bu();const n=Vo(8);Me(1),it("ngIf",null==n.errors?null:n.errors.required),Me(1),it("ngIf",null==n.errors?null:n.errors.pattern)}}function nse(t,e){1&t&&(te(0,"p",12),De(1," Name is required "),ne())}function rse(t,e){1&t&&(te(0,"p",12),De(1," Enter a valid name "),ne())}function ise(t,e){if(1&t&&(te(0,"div"),Jt(1,nse,2,0,"p",11),Jt(2,rse,2,0,"p",11),ne()),2&t){bu();const n=Vo(11);Me(1),it("ngIf",null==n.errors?null:n.errors.required),Me(1),it("ngIf",null==n.errors?null:n.errors.pattern)}}let sse=(()=>{class t{constructor(){}ngOnInit(){console.log()}onFormSubmit(n){console.log("Form Submited"),console.log(n.controls.email.errors)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["lib-email-newsletter"]],decls:15,vars:3,consts:[[1,"container"],[1,"m-auto"],["novalidate",""],["emailFrm","ngForm"],[1,"form-group","m-4"],["type","email","name","email","id","email","ngModel","","required","","pattern","[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}",1,"form-control","mb-3"],["emailText","ngModel"],[4,"ngIf"],["type","text","name","name","id","name","ngModel","","pattern","[A-Za-z ]{5,}",1,"form-control","mb-3"],["name","ngModel"],["type","submit",1,"btn","btn-danger",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(n,r){if(1&n&&(te(0,"h1"),De(1,"Email Newsletter"),ne(),te(2,"div",0)(3,"div",1)(4,"form",2,3)(6,"div",4),Hr(7,"input",5,6),Jt(9,tse,3,2,"div",7),Hr(10,"input",8,9),Jt(12,ise,3,2,"div",7),te(13,"button",10),De(14,"Submit"),ne()()()()()),2&n){const i=Vo(5),s=Vo(8),o=Vo(11);Me(9),it("ngIf",!s.valid&&(s.dirty||s.touched)),Me(3),it("ngIf",!o.valid&&(o.dirty||o.touched)),Me(1),it("disabled",!i.valid)}},directives:[xC,mC,hp,fc,gC,SC,pp,FC,my],styles:[""]}),t})(),ose=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["lib-home"]],decls:2,vars:0,template:function(n,r){1&n&&(te(0,"p"),De(1,"home works!"),ne())},styles:[""]}),t})();function ase(t,e){1&t&&(te(0,"p",11),De(1," Email is required "),ne())}function use(t,e){1&t&&(te(0,"p",11),De(1," Enter a valid email "),ne())}function lse(t,e){if(1&t&&(te(0,"div"),Jt(1,ase,2,0,"p",10),Jt(2,use,2,0,"p",10),ne()),2&t){const n=bu();Me(1),it("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.required),Me(1),it("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.pattern)}}function cse(t,e){1&t&&(te(0,"p",11),De(1," Name is required "),ne())}function dse(t,e){1&t&&(te(0,"p",11),De(1," Enter a valid name "),ne())}function hse(t,e){1&t&&(te(0,"p",11),De(1," Name must be at least 5 char "),ne())}function fse(t,e){if(1&t&&(te(0,"div"),Jt(1,cse,2,0,"p",10),Jt(2,dse,2,0,"p",10),Jt(3,hse,2,0,"p",10),ne()),2&t){const n=bu();Me(1),it("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.required),Me(1),it("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.pattern),Me(1),it("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.minlength)}}const pse=[{path:"",component:ose},{path:"books",component:eie},{path:"news-letter",component:sse},{path:"reactive-letter",component:(()=>{class t{constructor(){this.emailFrm=new dp({email:new cp("",[$a.required,$a.pattern("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+.[a-z]{2,3}")]),name:new cp("",[$a.required,$a.minLength(5),$a.maxLength(50),$a.pattern("[A-Za-z ]")])})}ngOnInit(){}onFormSubmit(){console.log("Form Submited"),console.log(this.emailFrm.controls.email.errors)}get email(){return this.emailFrm.get("email")}get name(){return this.emailFrm.get("name")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["lib-newsletter"]],decls:16,vars:4,consts:[[1,"container"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6","col-md-12"],[1,"form-group","mt-4","mb-3"],["formControlName","email","type","text","placeholder","Email",1,"form-control"],[4,"ngIf"],["formControlName","name","type","text","placeholder","Full Name",1,"form-control"],[1,"form-group","mb-3"],["type","submit",1,"btn","btn-danger","btn-block",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(n,r){1&n&&(te(0,"div",0)(1,"h2"),De(2,"Reactive Newsletter"),ne(),te(3,"form",1),dn("ngSubmit",function(){return r.onFormSubmit()}),te(4,"div",2)(5,"div",3)(6,"div",4),Hr(7,"input",5),ne(),Jt(8,lse,3,2,"div",6),ne(),te(9,"div",3)(10,"div",4),Hr(11,"input",7),ne(),Jt(12,fse,4,3,"div",6),ne()(),te(13,"div",8)(14,"button",9),De(15,"Submit"),ne()()()()),2&n&&(Me(3),it("formGroup",r.emailFrm),Me(5),it("ngIf",!(null!=r.email&&r.email.valid)&&((null==r.email?null:r.email.dirty)||(null==r.email?null:r.email.touched))),Me(4),it("ngIf",!(null!=r.name&&r.name.valid)&&((null==r.name?null:r.name.dirty)||(null==r.name?null:r.name.touched))),Me(2),it("disabled",!r.emailFrm.valid))},directives:[xC,mC,fp,fc,gC,RC,my],styles:[""]}),t})()}];let gse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[[RV.forRoot(pse)],RV]}),t})(),mse=(()=>{class t{constructor(n){this.firestore=n,this.currDate=new Date,this.newBook={id:"18",title:"dummy book",auther:"just me",edition:45,pages:9874,publishdate:this.currDate}}getAll(){const n=CL(this.firestore,"books");return Mte(n,{idField:"id"})}addBook(n){const r=CL(this.firestore,"books");return kte(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(Lf))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yse=(()=>{class t{constructor(n){this.booksService=n,this.title="Library",this.books=[],this.date=new Date}OnInit(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(b(mse))},t.\u0275cmp=fi({type:t,selectors:[["lib-app"]],decls:21,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["aria-current","page","routerLink","books",1,"nav-link","active"],["aria-current","page","routerLink","news-letter",1,"nav-link","active"],["aria-current","page","routerLink","reactive-letter",1,"nav-link","active"]],template:function(n,r){1&n&&(te(0,"nav",0)(1,"div",1)(2,"a",2),De(3,"Navbar"),ne(),te(4,"button",3),Hr(5,"span",4),ne(),te(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),De(10,"Home"),ne()(),te(11,"li",7)(12,"a",9),De(13,"Books"),ne()(),te(14,"li",7)(15,"a",10),De(16,"Email Newsletter"),ne()(),te(17,"li",7)(18,"a",11),De(19,"Reactive Newsletter"),ne()()()()()(),Hr(20,"router-outlet"))},directives:[ep,iC],styles:[""]}),t})();const VU_firebase={apiKey:"AIzaSyABvyIjbeZW3QibjCcCki3ubqDYDeNo2Lc",authDomain:"mu-library.firebaseapp.com",projectId:"mu-library",storageBucket:"mu-library.appspot.com",messagingSenderId:"851079171556",appId:"1:851079171556:web:f40c29acbe348399790bf1"};let _se=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t,bootstrap:[yse]}),t.\u0275inj=un({providers:[],imports:[[C5(()=>T5(VU_firebase)),xte(()=>Nte()),J4,gse,Jie,Xie]]}),t})();(function R3(){FM=!1})(),Q4().bootstrapModule(_se).catch(t=>console.error(t))}},oe=>{oe(oe.s=656)}]);